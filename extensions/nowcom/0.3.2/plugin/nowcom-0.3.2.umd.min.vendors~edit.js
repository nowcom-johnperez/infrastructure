(("undefined"!==typeof self?self:this)["webpackJsonpnowcom_0_3_2"]=("undefined"!==typeof self?self:this)["webpackJsonpnowcom_0_3_2"]||[]).push([[3],{"03d6":function(e,t,a){var s=a("5eaa");t=s(!1),t.push([e.i,".labeled-input.view input[data-v-29adcfe2]{text-overflow:ellipsis}.hideArrows input[data-v-29adcfe2]::-webkit-inner-spin-button,.hideArrows input[data-v-29adcfe2]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.hideArrows input[type=number][data-v-29adcfe2]{-moz-appearance:textfield}",""]),e.exports=t},"0547":function(e,t,a){"use strict";a("581d")},"084a":function(e,t,a){var s=a("5eaa");t=s(!1),t.push([e.i,".box[data-v-59aaa5e9],.title[data-v-59aaa5e9]{margin-bottom:10px}.box[data-v-59aaa5e9]{display:grid;grid-template-columns:auto 75px;align-items:center}.box .value[data-v-59aaa5e9]{flex:1}.box .value INPUT[data-v-59aaa5e9]{height:61px}.remove[data-v-59aaa5e9]{text-align:right}.footer .protip[data-v-59aaa5e9]{float:right;padding:5px 0}",""]),e.exports=t},"0896":function(e,t,a){var s=a("5eaa");t=s(!1),t.push([e.i,".cru-resource-footer{display:flex;justify-content:flex-end;margin-top:20px}.cru-resource-footer .btn{margin-left:20px}",""]),e.exports=t},"093b":function(e,t,a){"use strict";a("3b4a")},"0cb2":function(e,t,a){"use strict";var s=function(){var e=this,t=e._self._c;return t("div",{class:{"side-tabs":!!e.sideTabs,"tabs-only":e.tabsOnly},attrs:{"data-testid":"tabbed"}},[e.hideTabs?e._e():t("ul",{ref:"tablist",staticClass:"tabs",class:{clearfix:!e.sideTabs,vertical:e.sideTabs,horizontal:!e.sideTabs},attrs:{role:"tablist",tabindex:"0","data-testid":"tabbed-block"},on:{keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"right",39,t.key,["Right","ArrowRight"])||"button"in t&&2!==t.button?null:(t.preventDefault(),e.selectNext(1))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"left",37,t.key,["Left","ArrowLeft"])||"button"in t&&0!==t.button?null:(t.preventDefault(),e.selectNext(-1))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"down",40,t.key,["Down","ArrowDown"])?null:(t.preventDefault(),e.selectNext(1))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"up",38,t.key,["Up","ArrowUp"])?null:(t.preventDefault(),e.selectNext(-1))}]}},[e._l(e.sortedTabs,(function(a){return t("li",{key:a.name,class:{tab:!0,active:a.active,disabled:a.disabled,error:a.error},attrs:{id:a.name,"data-testid":a.name,role:"presentation"}},[t("a",{attrs:{"data-testid":"btn-"+a.name,"aria-controls":"#"+a.name,"aria-selected":a.active,role:"tab"},on:{click:function(t){return t.preventDefault(),e.select(a.name,t)}}},[t("span",[e._v(e._s(a.labelDisplay))]),a.badge?t("span",{staticClass:"tab-badge"},[e._v(e._s(a.badge))]):e._e(),e.hasIcon(a)?t("i",{directives:[{name:"clean-tooltip",rawName:"v-clean-tooltip",value:e.t("validation.tab"),expression:"t('validation.tab')"}],staticClass:"conditions-alert-icon icon-error"}):e._e()])])})),e.sideTabs&&!e.sortedTabs.length?t("li",{staticClass:"tab disabled"},[t("a",{attrs:{href:"#"},on:{click:function(e){e.preventDefault()}}},[e._v("(None)")])]):e._e(),e.sideTabs&&e.showTabsAddRemove?t("ul",{staticClass:"tab-list-footer"},[t("li",[t("button",{staticClass:"btn bg-transparent",attrs:{type:"button","data-testid":"tab-list-add"},on:{click:e.tabAddClicked}},[t("i",{staticClass:"icon icon-plus"})]),t("button",{staticClass:"btn bg-transparent",attrs:{type:"button",disabled:!e.sortedTabs.length,"data-testid":"tab-list-remove"},on:{click:e.tabRemoveClicked}},[t("i",{staticClass:"icon icon-minus"})])])]):e._e(),e._t("tab-row-extras")],2),t("div",{class:{"tab-container":!!e.tabs.length||!!e.sideTabs,"no-content":e.noContent,"tab-container--flat":!!e.flat}},[e._t("default")],2)])},i=[],o=a("a1d8"),n=a.n(o),r=a("330a"),l=a.n(r),c=a("bddd"),d=a("1d19"),u=a("1659"),p=a.n(u),h={name:"Tabbed",props:{defaultTab:{type:String,default:null},sideTabs:{type:Boolean,default:!1},hideSingleTab:{type:Boolean,default:!1},showTabsAddRemove:{type:Boolean,default:!1},scrollOnChange:{type:Boolean,default:!1},useHash:{type:Boolean,default:!0},noContent:{type:Boolean,default:!1},flat:{type:Boolean,default:!1},tabsOnly:{type:Boolean,default:!1}},provide(){const e=this.tabs;return{sideTabs:this.sideTabs,addTab(t){const a=Object(c["e"])(e,"name",t.name);a&&Object(c["i"])(e,a),Object(c["a"])(e,t)},removeTab(t){Object(c["i"])(e,t)}}},data(){return{tabs:[],activeTabName:null}},computed:{sortedTabs(){return Object(d["a"])(this.tabs,["weight:desc","labelDisplay","name"])},hideTabs(){return this.hideSingleTab&&1===this.sortedTabs.length}},watch:{sortedTabs(e){const{defaultTab:t,useHash:a}=this,s=e.find(e=>e.active),i=a?this.$route.hash:void 0,o=a?i.slice(1):void 0,r=e.find(e=>e.name===o&&!e.active),c=n()(e)||null;l()(s)?a&&!l()(r)?this.select(r.name):l()(t)||l()(e.find(e=>e.name===t))?null!==c&&void 0!==c&&c.name&&this.select(c.name):this.select(t):a&&(null===s||void 0===s?void 0:s.name)===o&&this.select(s.name)}},mounted(){this.useHash&&window.addEventListener("hashchange",this.hashChange)},unmounted(){this.useHash&&window.removeEventListener("hashchange",this.hashChange)},methods:{hasIcon(e){return e.displayAlertIcon||e.error&&!e.active},hashChange(){if(!this.scrollOnChange){const e=document.getElementsByTagName("main")[0];e&&(e.scrollTop=0)}this.select(this.$route.hash)},find(e){return this.sortedTabs.find(t=>t.name===e)},select(e){const{sortedTabs:t}=this,a=this.find(e),s="#"+e;if(a&&!a.disabled){if(this.useHash){const{$route:{hash:e},$router:{currentRoute:t}}=this;if(this.useHash&&e!==s){const e={...t};e.hash=s,this.$router.replace(e)}}for(const e of t)e.active=e.name===a.name;this.$emit("changed",{tab:a,selectedName:a.name}),this.activeTabName=a.name}},selectNext(e){const{sortedTabs:t}=this,a=t.findIndex(e=>e.active),s=o(a,e,t.length),i=t[s].name;function o(e,t,a){const s=e+t;return s>=a?0:s<=0?a-1:s}this.select(i),this.$nextTick(()=>{this.$refs.tablist.focus()})},tabAddClicked(){const e=p()(this.tabs,e=>e.active);this.$emit("addTab",e)},tabRemoveClicked(){const e=p()(this.tabs,e=>e.active);this.$emit("removeTab",e)}}},m=h,f=(a("deee"),a("d802")),v=Object(f["a"])(m,s,i,!1,null,"3f826acc",null);t["a"]=v.exports},1659:function(e,t,a){var s=a("0ee5"),i=a("4b7a"),o=a("9b66"),n=Math.max;function r(e,t,a){var r=null==e?0:e.length;if(!r)return-1;var l=null==a?0:o(a);return l<0&&(l=n(r+l,0)),s(e,i(t,3),l)}e.exports=r},"18ac":function(e,t,a){var s=a("5eaa");t=s(!1),t.push([e.i,".confirm-modal .btn[data-v-0181c352]{margin:0 10px}.confirm-modal .body[data-v-0181c352]{min-height:75px;padding:10px 0 0 15px}.confirm-modal .body p[data-v-0181c352]{margin-top:10px}.confirm-modal .header[data-v-0181c352]{background-color:var(--error);padding:15px 0 0 15px;height:50px}.confirm-modal .header h4[data-v-0181c352]{color:#fff}.confirm-modal .footer[data-v-0181c352]{border-top:1px solid var(--border);text-align:center;padding:10px 0 0 15px;height:60px}",""]),e.exports=t},"1a5f":function(e,t,a){"use strict";var s=this&&this.__assign||function(){return s=Object.assign||function(e){for(var t,a=1,s=arguments.length;a<s;a++)for(var i in t=arguments[a],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},s.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.isValidCron=void 0;var i=function(e){return/^\d+$/.test(e)?Number(e):NaN},o=function(e){return"*"===e},n=function(e){return"?"===e},r=function(e,t,a){return e>=t&&e<=a},l=function(e,t,a){var s=e.split("-");switch(s.length){case 1:return o(e)||r(i(e),t,a);case 2:var n=s.map((function(e){return i(e)})),l=n[0],c=n[1];return l<=c&&r(l,t,a)&&r(c,t,a);default:return!1}},c=function(e){return void 0===e||-1===e.search(/[^\d]/)},d=function(e,t,a){if(-1!==e.search(/[^\d-,\/*]/))return!1;var s=e.split(",");return s.every((function(e){var s=e.split("/");if(e.trim().endsWith("/"))return!1;if(s.length>2)return!1;var i=s[0],o=s[1];return l(i,t,a)&&c(o)}))},u=function(e){return d(e,0,59)},p=function(e){return d(e,0,59)},h=function(e){return d(e,0,23)},m=function(e,t){return t&&n(e)||d(e,1,31)},f={jan:"1",feb:"2",mar:"3",apr:"4",may:"5",jun:"6",jul:"7",aug:"8",sep:"9",oct:"10",nov:"11",dec:"12"},v=function(e,t){if(-1!==e.search(/\/[a-zA-Z]/))return!1;if(t){var a=e.toLowerCase().replace(/[a-z]{3}/g,(function(e){return void 0===f[e]?e:f[e]}));return d(a,1,12)}return d(e,1,12)},b={sun:"0",mon:"1",tue:"2",wed:"3",thu:"4",fri:"5",sat:"6"},y=function(e,t,a,s){if(a&&n(e))return!0;if(!a&&n(e))return!1;if(-1!==e.search(/\/[a-zA-Z]/))return!1;if(t){var i=e.toLowerCase().replace(/[a-z]{3}/g,(function(e){return void 0===b[e]?e:b[e]}));return d(i,0,s?7:6)}return d(e,0,s?7:6)},g=function(e,t,a){return!(a&&n(e)&&n(t))},x=function(e){return e.trim().split(/\s+/)},w={alias:!1,seconds:!1,allowBlankDay:!1,allowSevenAsSunday:!1};t.isValidCron=function(e,t){t=s(s({},w),t);var a=x(e);if(a.length>(t.seconds?6:5)||a.length<5)return!1;var i=[];if(6===a.length){var o=a.shift();o&&i.push(u(o))}var n=a[0],r=a[1],l=a[2],c=a[3],d=a[4];return i.push(p(n)),i.push(h(r)),i.push(m(l,t.allowBlankDay)),i.push(v(c,t.alias)),i.push(y(d,t.alias,t.allowBlankDay,t.allowSevenAsSunday)),i.push(g(l,d,t.allowBlankDay)),i.every(Boolean)}},"1f22":function(e,t,a){var s=a("5eaa");t=s(!1),t.push([e.i,".key-value{width:100%}.key-value .file-selector.role-link{text-transform:none;padding:0}.key-value .kv-container{display:grid;align-items:center;-moz-column-gap:20px;column-gap:20px}.key-value .kv-container label{margin-bottom:0}.key-value .kv-container .kv-item{width:100%;margin:10px 0 10px 0}.key-value .kv-container .kv-item.extra,.key-value .kv-container .kv-item.key{align-self:flex-start}.key-value .kv-container .kv-item.value .value-container.upload-button{position:relative;display:flex;justify-content:right;align-items:center}.key-value .kv-container .kv-item.value .value-container .file-selector{position:absolute;margin-right:5px}.key-value .kv-container .kv-item.value textarea{padding:10px 10px 10px 10px}.key-value .kv-container .kv-item .text-monospace:not(.conceal){font-family:monospace,monospace}.key-value .remove{text-align:center}.key-value .remove BUTTON{padding:0}.key-value .title{margin-bottom:10px}.key-value .title .read-from-file{float:right}.key-value input{height:40px;line-height:1}.key-value .footer .protip{float:right;padding:5px 0}.key-value .download{text-align:right}.key-value .copy-value{padding:0 0 0 10px}",""]),e.exports=t},2587:function(e,t,a){"use strict";a.d(t,"c",(function(){return s})),a.d(t,"a",(function(){return i})),a.d(t,"d",(function(){return o})),a.d(t,"b",(function(){return n}));const s=[{value:"configMaps",inputExponent:0,baseUnit:"",labelKey:"resourceQuota.configMaps",placeholderKey:"resourceQuota.projectLimit.unitlessPlaceholder"},{value:"limitsCpu",inputExponent:-1,baseUnitKey:"suffix.cpus",labelKey:"resourceQuota.limitsCpu",placeholderKey:"resourceQuota.projectLimit.cpuPlaceholder"},{value:"limitsMemory",inputExponent:2,increment:1024,labelKey:"resourceQuota.limitsMemory",placeholderKey:"resourceQuota.projectLimit.memoryPlaceholder"},{value:"persistentVolumeClaims",inputExponent:0,baseUnit:"",labelKey:"resourceQuota.persistentVolumeClaims",placeholderKey:"resourceQuota.projectLimit.unitlessPlaceholder"},{value:"pods",inputExponent:0,baseUnit:"",labelKey:"resourceQuota.pods",placeholderKey:"resourceQuota.projectLimit.unitlessPlaceholder"},{value:"replicationControllers",inputExponent:0,baseUnit:"",labelKey:"resourceQuota.replicationControllers",placeholderKey:"resourceQuota.projectLimit.unitlessPlaceholder"},{value:"requestsCpu",inputExponent:-1,baseUnitKey:"suffix.cpus",labelKey:"resourceQuota.requestsCpu",placeholderKey:"resourceQuota.projectLimit.cpuPlaceholder"},{value:"requestsMemory",inputExponent:2,increment:1024,labelKey:"resourceQuota.requestsMemory",placeholderKey:"resourceQuota.projectLimit.memoryPlaceholder"},{value:"requestsStorage",units:"storage",inputExponent:2,increment:1024,labelKey:"resourceQuota.requestsStorage",placeholderKey:"resourceQuota.projectLimit.storagePlaceholder"},{value:"secrets",units:"unitless",inputExponent:0,baseUnit:"",labelKey:"resourceQuota.secrets",placeholderKey:"resourceQuota.projectLimit.unitlessPlaceholder"},{value:"services",units:"unitless",inputExponent:0,baseUnit:"",labelKey:"resourceQuota.services",placeholderKey:"resourceQuota.projectLimit.unitlessPlaceholder"},{value:"servicesLoadBalancers",units:"unitless",inputExponent:0,baseUnit:"",labelKey:"resourceQuota.servicesLoadBalancers",placeholderKey:"resourceQuota.projectLimit.unitlessPlaceholder"},{value:"servicesNodePorts",units:"unitless",inputExponent:0,baseUnit:"",labelKey:"resourceQuota.servicesNodePorts",placeholderKey:"resourceQuota.projectLimit.unitlessPlaceholder"}],i=[{value:"limitsCpu",inputExponent:-1,baseUnitKey:"suffix.cpus",labelKey:"resourceQuota.limitsCpu",placeholderKey:"resourceQuota.projectLimit.cpuPlaceholder"},{value:"limitsMemory",inputExponent:2,increment:1024,labelKey:"resourceQuota.limitsMemory",placeholderKey:"resourceQuota.projectLimit.memoryPlaceholder"},{value:"requestsCpu",inputExponent:-1,baseUnitKey:"suffix.cpus",labelKey:"resourceQuota.requestsCpu",placeholderKey:"resourceQuota.projectLimit.cpuPlaceholder"},{value:"requestsMemory",inputExponent:2,increment:1024,labelKey:"resourceQuota.requestsMemory",placeholderKey:"resourceQuota.projectLimit.memoryPlaceholder"}],o={typeOption(){return this.types.find(e=>e.value===this.type)}},n={mappedTypes(){return this.types.map(e=>({label:this.t(e.labelKey),baseUnit:e.baseUnitKey?this.t(e.baseUnitKey):void 0,placeholder:this.t(e.placeholderKey),...e}))}}},"298c":function(e,t,a){var s=a("5eaa");t=s(!1),t.push([e.i,".tabs[data-v-3f826acc]{list-style-type:none;margin:0;padding:0}.tabs.horizontal[data-v-3f826acc]{border:solid thin var(--border);border-bottom:0;display:flex;flex-direction:row}.tabs.horizontal+.tab-container[data-v-3f826acc]{border:solid thin var(--border)}.tabs.horizontal .tab.active[data-v-3f826acc]{border-bottom:solid 2px var(--primary)}.tabs[data-v-3f826acc]:focus{outline:none}.tabs:focus .tab.active a span[data-v-3f826acc]{text-decoration:underline}.tabs .tab[data-v-3f826acc]{position:relative;float:left;padding:0 8px 0 0;cursor:pointer}.tabs .tab A[data-v-3f826acc]{display:flex;align-items:center;padding:10px 15px}.tabs .tab A[data-v-3f826acc]:hover{text-decoration:none}.tabs .tab A:hover span[data-v-3f826acc]{text-decoration:underline}.tabs .tab .conditions-alert-icon[data-v-3f826acc]{color:var(--error);padding-left:4px}.tabs .tab[data-v-3f826acc]:last-child{padding-right:0}.tabs .tab.active>A[data-v-3f826acc]{color:var(--primary);text-decoration:none}.tabs .tab.error A>i[data-v-3f826acc]{color:var(--error)}.tabs .tab .tab-badge[data-v-3f826acc]{margin-left:5px;background-color:var(--link);color:#fff;border-radius:6px;padding:1px 7px;font-size:11px}.tab-container[data-v-3f826acc]{padding:20px}.tab-container.no-content[data-v-3f826acc]{padding:0 0 3px 0}.tab-container--flat[data-v-3f826acc]{padding:0}.tab-container--flat .side-tabs[data-v-3f826acc]{box-shadow:unset}.tabs-only[data-v-3f826acc]{margin-bottom:20px}.tabs-only .tab-container[data-v-3f826acc]{display:none}.tabs-only .tabs[data-v-3f826acc]{border:0;border-bottom:2px solid var(--border)}.side-tabs[data-v-3f826acc]{display:flex;box-shadow:0 0 20px var(--shadow);border-radius:calc(var(--border-radius)*2);background-color:var(--tabbed-sidebar-bg)}.side-tabs .tab-container[data-v-3f826acc]{padding:20px}.side-tabs .tabs[data-v-3f826acc]{width:200px;min-width:200px;display:flex;flex:1 0;flex-direction:column}.side-tabs .tabs .tab[data-v-3f826acc]{width:100%;border-left:5px solid transparent}.side-tabs .tabs .tab.toggle A[data-v-3f826acc],.side-tabs .tabs .tab A[data-v-3f826acc]{color:var(--primary)}.side-tabs .tabs .tab.active[data-v-3f826acc]{background-color:var(--body-bg);border-left:solid 5px var(--primary)}.side-tabs .tabs .tab.active A[data-v-3f826acc]{color:var(--input-label)}.side-tabs .tabs .tab.disabled[data-v-3f826acc]{background-color:var(--disabled-bg)}.side-tabs .tabs .tab.disabled A[data-v-3f826acc]{color:var(--disabled-text);text-decoration:none}.side-tabs .tabs .tab-list-footer[data-v-3f826acc]{list-style:none;padding:0;margin-top:auto}.side-tabs .tabs .tab-list-footer li[data-v-3f826acc]{display:flex;flex:1}.side-tabs .tabs .tab-list-footer li .btn[data-v-3f826acc]{flex:1 1;display:flex;justify-content:center}.side-tabs .tabs .tab-list-footer li button[data-v-3f826acc]:first-of-type{border-top:solid 1px var(--border);border-right:solid 1px var(--border);border-top-right-radius:0}.side-tabs .tabs .tab-list-footer li button[data-v-3f826acc]:last-of-type{border-top:solid 1px var(--border);border-top-left-radius:0}.side-tabs .tab-container[data-v-3f826acc]{width:calc(100% - 200px);flex-grow:1;background-color:var(--body-bg)}",""]),e.exports=t},"2a9b4":function(e,t,a){var s=a("5eaa");t=s(!1),t.push([e.i,".resource-availability[data-v-641a935e]{align-self:center}.row[data-v-641a935e]{display:flex;flex-direction:row;justify-content:space-evenly}.row>*[data-v-641a935e]{width:100%}",""]),e.exports=t},"2b2f":function(e,t,a){var s=a("d1e9");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);var i=a("0ed3").default;i("3a77d6b4",s,!0,{sourceMap:!1,shadowMode:!1})},"2bf5":function(e,t,a){var s=a("5eaa");t=s(!1),t.push([e.i,".tab-header[data-v-667bdd63]{display:flex;justify-content:space-between;margin-bottom:15px;align-items:center}.tab-header h2[data-v-667bdd63]{margin:0}",""]),e.exports=t},"2fff":function(e,t,a){var s=a("2a9b4");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);var i=a("0ed3").default;i("70feb912",s,!0,{sourceMap:!1,shadowMode:!1})},"30c1":function(e,t,a){var s=a("e0a3");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);var i=a("0ed3").default;i("25018f22",s,!0,{sourceMap:!1,shadowMode:!1})},"35d2":function(e,t,a){"use strict";a("a8f8")},"38de":function(e,t,a){"use strict";var s=function(){var e=this,t=e._self._c;return t("section",{directives:[{name:"show",rawName:"v-show",value:e.active,expression:"active"}],attrs:{id:e.name,"aria-hidden":!e.active,role:"tabpanel"}},[e.shouldShowHeader?t("div",{staticClass:"tab-header"},[t("h2",[e._v(" "+e._s(e.labelDisplay)+" "),e.tooltip?t("i",{directives:[{name:"clean-tooltip",rawName:"v-clean-tooltip",value:e.tooltip,expression:"tooltip"}],staticClass:"icon icon-info icon-lg"}):e._e()]),e._t("tab-header-right")],2):e._e(),e._t("default",null,null,{active:e.active})],2)},i=[],o={inject:["addTab","removeTab","sideTabs"],props:{label:{default:null,type:String},labelKey:{default:null,type:String},name:{required:!0,type:String},tooltip:{default:null,type:[String,Object]},weight:{default:0,required:!1,type:Number},showHeader:{type:Boolean,default:null},displayAlertIcon:{type:Boolean,default:null},error:{type:Boolean,default:!1},badge:{default:0,required:!1,type:Number}},data(){return{active:null}},computed:{labelDisplay(){return this.labelKey?this.$store.getters["i18n/t"](this.labelKey):this.label?this.label:this.name},shouldShowHeader(){return null!==this.showHeader?this.showHeader:this.sideTabs||!1}},watch:{active(e){e&&this.$emit("active")}},mounted(){this.addTab(this)},beforeDestroy(){this.removeTab(this)}},n=o,r=(a("d6d6"),a("d802")),l=Object(r["a"])(n,s,i,!1,null,"667bdd63",null);t["a"]=l.exports},"3b4a":function(e,t,a){var s=a("b190");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);var i=a("0ed3").default;i("01f8f7ef",s,!0,{sourceMap:!1,shadowMode:!1})},"3c8c":function(e,t,a){"use strict";var s=function(){var e=this,t=e._self._c;return t("div",{staticClass:"row mb-20"},[e.namespaced&&!e.nameNsHidden&&e.createNamespace?t("div",{staticClass:"col span-3",attrs:{"data-testid":e.componentTestid+"-namespace-create"}},[t("LabeledInput",{ref:"namespace",attrs:{label:e.t("namespace.label"),placeholder:e.t("namespace.createNamespace"),disabled:e.namespaceReallyDisabled,mode:e.mode,"min-height":30,required:e.nameRequired,rules:e.rules.namespace},model:{value:e.namespace,callback:function(t){e.namespace=t},expression:"namespace"}}),t("button",{attrs:{aria:"Cancel create"},on:{click:e.cancelCreateNamespace}},[t("i",{directives:[{name:"clean-tooltip",rawName:"v-clean-tooltip",value:e.t("generic.cancel"),expression:"t('generic.cancel')"}],staticClass:"icon icon-close align-value"})])],1):e._e(),!e.namespaced||e.nameNsHidden||e.createNamespace?e._e():t("div",{staticClass:"col span-3",attrs:{"data-testid":e.componentTestid+"-namespace"}},[t("LabeledSelect",{directives:[{name:"show",rawName:"v-show",value:!e.createNamespace,expression:"!createNamespace"}],attrs:{clearable:!0,options:e.options,disabled:e.namespaceReallyDisabled,searchable:!0,mode:e.mode,multiple:!1,label:e.t("namespace.label"),placeholder:e.t("namespace.selectOrCreate"),rules:e.rules.namespace,required:""},on:{selecting:e.selectNamespace},model:{value:e.namespace,callback:function(t){e.namespace=t},expression:"namespace"}})],1),e.nameNsHidden?e._e():t("div",{staticClass:"col span-3",attrs:{"data-testid":e.componentTestid+"-name"}},[t("LabeledInput",{key:"name",ref:"name",attrs:{label:e.t(e.nameLabel),placeholder:e.t(e.namePlaceholder),disabled:e.nameReallyDisabled,mode:e.mode,"min-height":30,required:e.nameRequired,rules:e.rules.name},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1),e._t("customize"),t("div",{directives:[{name:"show",rawName:"v-show",value:!e.descriptionHidden,expression:"!descriptionHidden"}],class:["col",e.extraColumns.length>0?"span-3":"span-6"],attrs:{"data-testid":e.componentTestid+"-description"}},[t("LabeledInput",{key:"description",attrs:{mode:e.mode,disabled:e.descriptionDisabled,label:e.t(e.descriptionLabel),placeholder:e.t(e.descriptionPlaceholder),"min-height":30,rules:e.rules.description},model:{value:e.description,callback:function(t){e.description=t},expression:"description"}})],1),e._l(e.extraColumns,(function(a){return t("div",{key:a,class:{col:!0,[e.colSpan]:!0}},[e._t(a)],2)})),e.showSpacer?t("div",{staticClass:"spacer"}):e._e()],2)},i=[],o=a("8bbf"),n=a.n(o),r=a("9ce4"),l=a("e24b"),c=a("1d19"),d=a("907c"),u=a("4ac6"),p=a("da25"),h=a("8e93"),m=a("466b");function f(e){return(e||"").trim().toLowerCase().replace(/\s+/g,"-").replace(/-+/g,"-").replace(/^-+/,"").replace(/-+$/,"")}var v={name:"NameNsDescription",components:{LabeledInput:h["a"],LabeledSelect:m["a"]},props:{value:{type:Object,required:!0},mode:{type:String,required:!0},nameNsHidden:{type:Boolean,default:!1},descriptionHidden:{type:Boolean,default:!1},extraColumns:{type:Array,default:()=>[]},nameLabel:{type:String,default:"nameNsDescription.name.label"},nameEditable:{type:Boolean,default:!1},namePlaceholder:{type:String,default:"nameNsDescription.name.placeholder"},nameDisabled:{type:Boolean,default:!1},nameRequired:{type:Boolean,default:!0},nameNormalized:{type:Boolean,default:!0},namespaced:{type:Boolean,default:!0},namespaceFilter:{type:Function,default:null},namespaceMapper:{type:Function,default:null},namespaceType:{type:String,default:d["q"]},namespaceLabel:{type:String,default:"nameNsDescription.namespace.label"},namespacePlaceholder:{type:String,default:"nameNsDescription.namespace.placeholder"},namespaceDisabled:{type:Boolean,default:!1},namespaceNewAllowed:{type:Boolean,default:!1},noDefaultNamespace:{type:Boolean,default:!1},namespacesOverride:{type:Array,default:null},namespaceOptions:{type:Array,default:null},createNamespaceOverride:{type:Boolean,default:!1},descriptionLabel:{type:String,default:"nameNsDescription.description.label"},descriptionPlaceholder:{type:String,default:"nameNsDescription.description.placeholder"},descriptionDisabled:{type:Boolean,default:!1},nameKey:{type:String,default:null},namespaceKey:{type:String,default:null},descriptionKey:{type:String,default:null},forceNamespace:{type:String,default:null},showSpacer:{type:Boolean,default:!0},horizontal:{type:Boolean,default:!0},rules:{default:()=>({namespace:[],name:[],description:[]}),type:Object},componentTestid:{type:String,default:"name-ns-description"}},data(){const e=this.value,t=e.metadata;let a,s,i;var o;(s=this.nameKey?Object(l["h"])(e,this.nameKey):null===t||void 0===t?void 0:t.name,this.namespaced&&(this.forceNamespace?(a=this.forceNamespace,this.updateNamespace(a)):a=this.namespaceKey?Object(l["h"])(e,this.namespaceKey):null===t||void 0===t?void 0:t.namespace,a||this.noDefaultNamespace||(a=this.$store.getters["defaultNamespace"],t&&(t.namespace=a))),this.descriptionKey)?i=Object(l["h"])(e,this.descriptionKey):i=null===t||void 0===t||null===(o=t.annotations)||void 0===o?void 0:o[u["e"]];const n=this.$store.getters["currentStore"](),r=this.$store.getters[n+"/schemaFor"](d["q"]);return{namespace:a,name:s,description:i,createNamespace:!1,nsSchema:r}},computed:{...Object(r["b"])(["currentProduct","currentCluster","namespaces","allowedNamespaces"]),...Object(r["a"])("cru-resource",["setCreateNamespace"]),namespaceReallyDisabled(){return!!this.forceNamespace||this.namespaceDisabled||this.mode===p["n"]},nameReallyDisabled(){return this.nameDisabled||this.mode===p["n"]&&!this.nameEditable},options(){let e;if(this.namespacesOverride)e=this.namespacesOverride;else if(this.namespaceOptions)e=(this.namespaceOptions.map(e=>e.name)||[]).sort();else{const t=this.isCreate?this.allowedNamespaces():this.namespaces();e=Object.keys(t)}const t=e.map(e=>({nameDisplay:e,id:e})).map(this.namespaceMapper||(e=>({label:e.nameDisplay,value:e.id}))),a=Object(c["a"])(t,"label");this.forceNamespace&&a.unshift({label:this.forceNamespace,value:this.forceNamespace});const s={label:this.t("namespace.createNamespace"),value:"",kind:"highlighted"},i={label:"divider",disabled:!0,kind:"divider"},o=this.canCreateNamespace||this.createNamespaceOverride?[s,i]:[];return[...o,...a]},isView(){return this.mode===p["u"]},isCreate(){return this.mode===p["l"]},showCustomize(){return this.mode===p["l"]&&this.name&&this.name.length>0},colSpan(){if(!this.horizontal)return"span-8";let e=(this.nameNsHidden?0:2)+(this.descriptionHidden?0:1)+this.extraColumns.length;e=Math.max(2,e);const t=12/e;return"span-"+t},canCreateNamespace(){var e,t;return((null===(e=this.nsSchema)||void 0===e?void 0:e.collectionMethods)||[]).includes("POST")&&(null===(t=this.currentCluster)||void 0===t?void 0:t.canUpdate)}},watch:{name(e){this.normalizeName&&(e=f(e)),this.nameKey?Object(l["m"])(this.value,this.nameKey,e):this.$set(this.value.metadata,"name",e),this.$emit("change")},namespace(e){this.updateNamespace(e),this.$emit("change")},description(e){this.descriptionKey?Object(l["m"])(this.value,this.descriptionKey,e):this.value.setAnnotation(u["e"],e),this.$emit("change")}},mounted(){this.$nextTick(()=>{this.$refs.name&&this.$refs.name.focus()})},methods:{updateNamespace(e){this.forceNamespace&&(e=this.forceNamespace),this.namespaced&&this.$emit("isNamespaceNew",!e||this.options&&!this.options.find(t=>t.value===e)),this.namespaceKey?Object(l["m"])(this.value,this.namespaceKey,e):this.value.metadata.namespace=e},changeNameAndNamespace(e){this.name=(e.text||"").toLowerCase(),this.namespace=e.selected},cancelCreateNamespace(e){var t;this.createNamespace=!1,this.$parent.$emit("createNamespace",!1),this.namespace=this.$store.getters["defaultNamespace"]||(null===(t=this.options.find(e=>!!e.value))||void 0===t?void 0:t.value)},selectNamespace(e){e&&""!==e.value?(this.createNamespace=!1,this.$store.dispatch("cru-resource/setCreateNamespace",!1),this.$emit("isNamespaceNew",!1)):(this.createNamespace=!0,this.$store.dispatch("cru-resource/setCreateNamespace",!0),this.$emit("isNamespaceNew",!0),n.a.nextTick(()=>this.$refs.namespace.focus()))}}},b=v,y=(a("8dcf"),a("d802")),g=Object(y["a"])(b,s,i,!1,null,"02ddcc7c",null);t["a"]=g.exports},4442:function(e,t,a){"use strict";var s=function(){var e=this,t=e._self._c;return t("div",{class:e.containerClass},[t("div",{class:e.defaultSectionClass},[t("div",{staticClass:"labels"},[t("div",{staticClass:"labels__header"},[e.showLabelTitle?t("h3",[t("t",{attrs:{k:"labels.labels.title"}})],1):e._e(),e.value.hasSystemLabels?t("ToggleSwitch",{attrs:{name:"label-system-toggle","on-label":e.t("labels.labels.show")},model:{value:e.toggler,callback:function(t){e.toggler=t},expression:"toggler"}}):e._e()],1),t("p",{staticClass:"mt-10 mb-10"},[t("t",{attrs:{k:"labels.labels.description"}})],1),t("div",{class:e.columnsClass},[e._t("labels",(function(){return[[t("KeyValue",{key:"labels",attrs:{value:e.value.labels,"protected-keys":e.value.systemLabels||[],"toggle-filter":e.toggler,"add-label":e.t("labels.addLabel"),mode:e.mode,"read-allowed":!1,"value-can-be-empty":!0},on:{input:function(t){return e.value.setLabels(t)}}})]]}),{toggler:e.toggler})],2)])]),t("div",{staticClass:"spacer"}),e.showAnnotations?t("div",{class:e.sectionClass},[t("KeyValue",{key:"annotations",attrs:{value:e.value.annotations,"add-label":e.t("labels.addAnnotation"),mode:e.mode,"protected-keys":e.value.systemAnnotations||[],"toggle-filter":e.toggler,title:e.t("labels.annotations.title"),"title-protip":e.annotationTitleTooltip,"read-allowed":!1,"value-can-be-empty":!0},on:{input:function(t){return e.value.setAnnotations(t)}}})],1):e._e()])},i=[],o=function(){var e=this,t=e._self._c;return t("div",{staticClass:"key-value"},[e.title||e.$slots.title?t("div",{staticClass:"clearfix"},[e._t("title",(function(){return[t("h3",[e._v(" "+e._s(e.title)+" "),e.titleProtip?t("i",{directives:[{name:"clean-tooltip",rawName:"v-clean-tooltip",value:e.titleProtip,expression:"titleProtip"}],staticClass:"icon icon-info"}):e._e()])]}))],2):e._e(),t("div",{staticClass:"kv-container",style:e.containerStyle},[e.rows.length||e.isView?[t("label",{staticClass:"text-label"},[e._v(" "+e._s(e._keyLabel)+" "),e._protip&&!e.isView&&e.addAllowed?t("i",{directives:[{name:"clean-tooltip",rawName:"v-clean-tooltip",value:e._protip,expression:"_protip"}],staticClass:"icon icon-info"}):e._e()]),t("label",{staticClass:"text-label"},[e._v(" "+e._s(e._valueLabel)+" ")]),e._l(e.extraColumns,(function(a){return t("label",{key:a},[e._t("label:"+a,(function(){return[e._v(e._s(a))]}))],2)})),e.canRemove?e._t("remove",(function(){return[t("span")]})):e._e()]:e._e(),!e.rows.length&&e.isView?[t("div",{staticClass:"kv-item key text-muted"},[e._v(" — ")]),t("div",{staticClass:"kv-item key text-muted"},[e._v(" — ")])]:e._l(e.filteredRows,(function(a,s){return[t("div",{key:s+"key",staticClass:"kv-item key"},[e._t("key",(function(){return[e.keyOptions?t("Select",{ref:"key",refInFor:!0,attrs:{searchable:!0,disabled:e.disabled||e.isProtected(a.key),clearable:!1,taggable:e.keyTaggable,options:e.calculateOptions(a[e.keyName]),"data-testid":"select-kv-item-key-"+s},on:{input:e.queueUpdate},model:{value:a[e.keyName],callback:function(t){e.$set(a,e.keyName,t)},expression:"row[keyName]"}}):t("input",{directives:[{name:"model",rawName:"v-model",value:a[e.keyName],expression:"row[keyName]"}],ref:"key",refInFor:!0,attrs:{disabled:e.isView||e.disabled||!e.keyEditable||e.isProtected(a.key),placeholder:e._keyPlaceholder,"data-testid":"input-kv-item-key-"+s},domProps:{value:a[e.keyName]},on:{input:[function(t){t.target.composing||e.$set(a,e.keyName,t.target.value)},e.queueUpdate],paste:function(t){return e.onPaste(s,t)}}})]}),{row:a,mode:e.mode,keyName:e.keyName,valueName:e.valueName,queueUpdate:e.queueUpdate,disabled:e.disabled})],2),t("div",{key:s+"value",staticClass:"kv-item value",attrs:{"data-testid":"kv-item-value-"+s}},[e._t("value",(function(){return[a.supported?a.binary?t("div",[e._v(" "+e._s(e.binaryTextSize(a.value))+" ")]):t("div",{staticClass:"value-container",class:{"upload-button":e.parseValueFromFile}},[e.valueMarkdownMultiline?t("CodeMirror",{ref:"cm",refInFor:!0,class:{["focus"]:e.codeMirrorFocus[s]},attrs:{"data-testid":"code-mirror-multiline-field",value:a[e.valueName],"as-text-area":!0,mode:e.mode},on:{onInput:function(t){return e.onInputMarkdownMultiline(s,t)},onFocus:function(t){return e.onFocusMarkdownMultiline(s,t)}}}):e.valueMultiline?t("TextAreaAutoGrow",{class:{conceal:e.valueConcealed},attrs:{"data-testid":"value-multiline",disabled:e.disabled||e.isProtected(a.key),mode:e.mode,placeholder:e._valuePlaceholder,"min-height":40,spellcheck:!1},on:{input:e.queueUpdate},model:{value:a[e.valueName],callback:function(t){e.$set(a,e.valueName,t)},expression:"row[valueName]"}}):"checkbox"===(e.valueConcealed?"password":"text")?t("input",{directives:[{name:"model",rawName:"v-model",value:a[e.valueName],expression:"row[valueName]"}],attrs:{disabled:e.isView||e.disabled||e.isProtected(a.key),placeholder:e._valuePlaceholder,autocorrect:"off",autocapitalize:"off",spellcheck:"false","data-testid":"input-kv-item-value-"+s,type:"checkbox"},domProps:{checked:Array.isArray(a[e.valueName])?e._i(a[e.valueName],null)>-1:a[e.valueName]},on:{input:e.queueUpdate,change:function(t){var s=a[e.valueName],i=t.target,o=!!i.checked;if(Array.isArray(s)){var n=null,r=e._i(s,n);i.checked?r<0&&e.$set(a,e.valueName,s.concat([n])):r>-1&&e.$set(a,e.valueName,s.slice(0,r).concat(s.slice(r+1)))}else e.$set(a,e.valueName,o)}}}):"radio"===(e.valueConcealed?"password":"text")?t("input",{directives:[{name:"model",rawName:"v-model",value:a[e.valueName],expression:"row[valueName]"}],attrs:{disabled:e.isView||e.disabled||e.isProtected(a.key),placeholder:e._valuePlaceholder,autocorrect:"off",autocapitalize:"off",spellcheck:"false","data-testid":"input-kv-item-value-"+s,type:"radio"},domProps:{checked:e._q(a[e.valueName],null)},on:{input:e.queueUpdate,change:function(t){return e.$set(a,e.valueName,null)}}}):t("input",{directives:[{name:"model",rawName:"v-model",value:a[e.valueName],expression:"row[valueName]"}],attrs:{disabled:e.isView||e.disabled||e.isProtected(a.key),placeholder:e._valuePlaceholder,autocorrect:"off",autocapitalize:"off",spellcheck:"false","data-testid":"input-kv-item-value-"+s,type:e.valueConcealed?"password":"text"},domProps:{value:a[e.valueName]},on:{input:[function(t){t.target.composing||e.$set(a,e.valueName,t.target.value)},e.queueUpdate]}}),e.parseValueFromFile&&e.readAllowed&&!e.isView&&e.isValueFieldEmpty(a[e.valueName])?t("FileSelector",{staticClass:"btn btn-sm role-secondary file-selector",attrs:{label:e.t("generic.upload"),"include-file-name":!0},on:{selected:function(t){return e.onValueFileSelected(s,t)}}}):e._e()],1):t("div",[e._v(" "+e._s(e.t("detailText.unsupported",null,!0))+" ")])]}),{row:a,mode:e.mode,keyName:e.keyName,valueName:e.valueName,queueUpdate:e.queueUpdate})],2),e._l(e.extraColumns,(function(i){return t("div",{key:s+i,staticClass:"kv-item extra"},[e._t("col:"+i,null,{row:a,queueUpdate:e.queueUpdate,i:s})],2)})),e.canRemove?t("div",{key:s,staticClass:"kv-item remove",attrs:{"data-testid":"remove-column-"+s}},[e._t("removeButton",(function(){return[t("button",{staticClass:"btn role-link",attrs:{type:"button",disabled:e.isView||e.isProtected(a.key)||e.disabled},on:{click:function(t){return e.remove(s)}}},[e._v(" "+e._s(e.removeLabel||e.t("generic.remove"))+" ")])]}),{remove:e.remove,row:a,i:s})],2):e._e()]}))],2),!e.addAllowed&&!e.readAllowed||e.isView?e._e():t("div",{staticClass:"footer mt-20"},[e._t("add",(function(){return[e.addAllowed?t("button",{staticClass:"btn role-tertiary add",attrs:{type:"button","data-testid":"add_link_button",disabled:e.loading||e.disabled||e.keyOptions&&0===e.filteredKeyOptions.length},on:{click:function(t){return e.add()}}},[e.loading?t("i",{staticClass:"mr-5 icon icon-spinner icon-spin icon-lg"}):e._e(),e._v(" "+e._s(e._addLabel)+" ")]):e._e(),e.readAllowed?t("FileSelector",{staticClass:"role-tertiary",attrs:{disabled:e.isView,label:e.t("generic.readFromFile"),"include-file-name":!0},on:{selected:e.onFileSelected}}):e._e()]}),{add:e.add})],2)])},n=[],r=a("44db"),l=a.n(r),c=a("1d19"),d=a("bddd"),u=a("0f81"),p=a("c87d"),h=a("8275"),m=a("e24b"),f=a("47ab"),v=a("8b2c"),b=a("da25"),y=a("2cb5"),g=a("8c26"),x=a("9e74"),w=a.n(x),_={name:"KeyValue",components:{CodeMirror:g["a"],Select:f["a"],TextAreaAutoGrow:h["a"],FileSelector:v["a"]},props:{value:{type:[Array,Object],default:null},defaultValue:{type:[Array,Object],default:null},binaryValueKeys:{type:[Array,Object],default:null},mode:{type:String,default:b["n"]},asMap:{type:Boolean,default:!0},initialEmptyRow:{type:Boolean,default:!1},title:{type:String,default:""},titleProtip:{type:String,default:""},protip:{type:[String,Boolean],default:""},keyName:{type:String,default:"key"},keyLabel:{type:String,default:""},keyEditable:{type:Boolean,default:!0},keyOptions:{type:Array,default:null},keyTaggable:{type:Boolean,default:!0},keyOptionUnique:{type:Boolean,default:!1},keyPlaceholder:{type:String,default:""},protectedKeys:{type:Array,default:()=>[]},toggleFilter:{type:Boolean,default:!1},separatorLabel:{type:String,default:""},valueName:{type:String,default:"value"},valueLabel:{type:String,default:""},valuePlaceholder:{type:String,default:""},valueCanBeEmpty:{type:Boolean,default:!1},displayValuesAsBinary:{type:Boolean,default:!1},valueMarkdownMultiline:{type:Boolean,default:!1},valueMultiline:{type:Boolean,default:!0},valueTrim:{type:Boolean,default:!0},handleBase64:{type:Boolean,default:!1},valueConcealed:{type:Boolean,default:!1},supported:{type:Function,default:e=>!0},preserveKeys:{type:Array,default:null},extraColumns:{type:Array,default:()=>[]},defaultAddData:{type:Object,default:()=>{}},addLabel:{type:String,default:""},addIcon:{type:String,default:"icon-plus"},addAllowed:{type:Boolean,default:!0},readIcon:{type:String,default:"icon-upload"},readAllowed:{type:Boolean,default:!0},readAccept:{type:String,default:"*"},readMultiple:{type:Boolean,default:!1},removeLabel:{type:String,default:""},removeIcon:{type:String,default:"icon-minus"},removeAllowed:{type:Boolean,default:!0},fileModifier:{type:Function,default:(e,t)=>({name:e,value:t})},parserSeparators:{type:Array,default:()=>[":","="]},loading:{default:!1,type:Boolean},parseLinesFromFile:{default:!1,type:Boolean},parseValueFromFile:{default:!1,type:Boolean},disabled:{default:!1,type:Boolean}},data(){const e=this.getRows(this.value);return{rows:e,codeMirrorFocus:{},lastUpdated:null}},computed:{_protip(){return this.protip||this.t("keyValue.protip",null,!0)},_keyLabel(){return this.keyLabel||this.t("generic.key")},_keyPlaceholder(){return this.keyPlaceholder||this.t("keyValue.keyPlaceholder")},_valueLabel(){return this.valueLabel||this.t("generic.value")},_valuePlaceholder(){return this.valuePlaceholder||this.t("keyValue.valuePlaceholder")},_addLabel(){return this.addLabel||this.t("generic.add")},isView(){return this.mode===b["u"]},containerStyle(){const e=this.canRemove?" 50px":"",t=2+this.extraColumns.length;return`grid-template-columns: repeat(${t}, 1fr)${e};`},usedKeyOptions(){return this.rows.map(e=>e[this.keyName])},filteredKeyOptions(){return this.keyOptionUnique?this.keyOptions.filter(e=>!this.usedKeyOptions.includes(e.value)):this.keyOptions},canRemove(){return!this.isView&&this.removeAllowed},filteredRows(){return this.rows.filter(e=>!(this.isProtected(e.key)&&!this.toggleFilter))}},created(){this.queueUpdate=l()(this.update,500)},watch:{value:{deep:!0,handler(e,t){this.valuePropChanged(e,t)}}},methods:{valuePropChanged(e){w()(e,this.lastUpdated)||(this.rows=this.getRows(e))},isProtected(e){return this.protectedKeys&&this.protectedKeys.includes(e)},getRows(e){const t=[];if(this.asMap){const a=e||{};Object.keys(a).forEach(e=>{let s=a[e];const i=Object(u["a"])(a[e]),o=Object(y["a"])(i);this.handleBase64&&o&&(s=Object(u["a"])(s)),t.push({key:e,value:s,binary:this.displayValuesAsBinary||this.handleBase64&&!o,canEncode:this.handleBase64&&o,supported:!0})})}else{const s=e||[];for(const e of s){var a;let s=e[this.valueName]||"";const i=Object(u["a"])(e[this.valueName]),o=Object(y["a"])(i);this.handleBase64&&o&&(s=Object(u["a"])(s));const n={[this.keyName]:e[this.keyName]||"",[this.valueName]:s,binary:this.displayValuesAsBinary||this.handleBase64&&!o,canEncode:this.handleBase64&&o,supported:this.supported(e)};null===(a=this.preserveKeys)||void 0===a||a.map(t=>{"undefined"!==typeof e[t]&&(n[t]=e[t])}),t.push(n)}}return t&&!t.length&&this.initialEmptyRow&&t.push({[this.keyName]:"",[this.valueName]:"",binary:!1,canEncode:this.handleBase64,supported:!0}),t},add(e="",t=""){const a={...this.defaultAddData,[this.keyName]:e,[this.valueName]:t};a.binary=!1,a.canEncode=this.handleBase64,a.supported=!0,this.rows.push(a),this.queueUpdate(),this.$nextTick(()=>{if(this.$refs.key){const e=this.$refs.key,t=e[e.length-1];t.focus()}else this.$emit("focusKey")})},remove(e){Object(d["h"])(this.rows,e),this.queueUpdate()},removeEmptyRows(){const e=this.rows.filter(e=>e.value.length||e.key.length);this.$set(this,"rows",e)},onFileSelected(e){const{name:t,value:a}=this.fileModifier(e.name,e.value);if(this.parseLinesFromFile){const e=a.split("\n");e.forEach(e=>{if(e.length){const[t,a]=e.split("=");this.add(t,a)}}),e.length>0&&this.removeEmptyRows()}else this.add(t,a,this.displayValuesAsBinary)},download(e,t){const a=this.rows[e],s=a[this.keyName],i=a[this.valueName];Object(p["a"])(s,i,"application/octet-stream")},update(){let e;if(this.asMap){e={};const t=this.keyName,a=this.valueName;for(const s of this.rows){let i=s[a]||"";const o=(s[t]||"").trim();i&&"object"===Object(c["c"])(i)?e[o]=JSON.parse(JSON.stringify(i)):(i=i||"",this.valueTrim&&Object(y["a"])(i)&&(i=i.trim()),s.canEncode&&(i=Object(u["b"])(i)),o&&(i||this.valueCanBeEmpty)&&(e[o]=i))}}else{const t=this.preserveKeys||[];Object(d["i"])(t,this.keyName),Object(d["i"])(t,this.valueName),e=this.rows.map(e=>{let a=e[this.valueName];e.canEncode&&(a=Object(u["b"])(a));const s={[this.keyName]:e[this.keyName],[this.valueName]:a};for(const i of t)"undefined"!==typeof e[i]&&(s[i]=e[i]);return s})}this.lastUpdated=e,this.$emit("input",e)},onPaste(e,t){const a=t.clipboardData.getData("text/plain"),s=a.split("\n"),i=s.map(e=>{const t=this.parserSeparators.find(t=>e.includes(t));return t?e.split(t):""}).filter(e=>e&&e.length>0);if(0===i.length||1===i.length&&i[0].length<2)return;t.preventDefault();const o=i.map(e=>({[this.keyName]:(e[0]||"").trim(),[this.valueName]:(e[1]||"").trim(),supported:!0,canEncode:this.handleBase64,binary:this.displayValuesAsBinary}));this.rows.splice(e,1,...o),this.queueUpdate()},calculateOptions(e){const t=this.keyOptions.find(t=>t.value===e);return t?[t,...this.filteredKeyOptions]:this.filteredKeyOptions},binaryTextSize(e){const t=this.handleBase64?Object(u["a"])(e):e,a=e.length?Object(u["c"])(t):0;return this.t("detailText.binary",{n:a},!0)},get:m["h"],onInputMarkdownMultiline(e,t){this.rows=this.rows.map((a,s)=>s===e?{...a,value:t}:a),this.queueUpdate()},onFocusMarkdownMultiline(e,t){this.$set(this.codeMirrorFocus,e,t)},onValueFileSelected(e,t){const{name:a,value:s}=t;this.rows[e][this.keyName]||(this.rows[e][this.keyName]=a),this.rows[e][this.valueName]=s},isValueFieldEmpty(e){return!e||0===e.trim().length}}},C=_,k=(a("6892"),a("d802")),S=Object(k["a"])(C,o,n,!1,null,null,null),O=S.exports,j=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("span",{staticClass:"toggle-container"},[t("span",{staticClass:"label no-select hand",class:{active:!e.state},on:{click:function(t){return e.toggle(!1)}}},[e._v(e._s(e.offLabel))]),t("label",{staticClass:"switch hand"},[t("input",{attrs:{type:"checkbox"},domProps:{checked:e.state},on:{input:function(t){return e.toggle(null)}}}),t("span",{staticClass:"slider round"})]),t("span",{staticClass:"label no-select hand",class:{active:e.state},on:{click:function(t){return e.toggle(!0)}}},[e._v(e._s(e.onLabel))])])},T=[],N=a("8bbf"),$=Object(N["defineComponent"])({props:{value:{type:[Boolean,String,Number],default:!1},offValue:{type:[Boolean,String,Number],default:!1},onValue:{type:[Boolean,String,Number],default:!0},offLabel:{type:String,default:""},onLabel:{type:String,default:""}},data(){return{state:!1}},watch:{value:{handler(){this.state=this.value===this.onValue},immediate:!0}},methods:{toggle(e){this.state=null===e?!this.state:e,this.$emit("input",this.state?this.onValue:this.offValue)}}}),M=$,L=(a("093b"),Object(k["a"])(M,j,T,!1,null,"40a56591",null)),A=L.exports,B={components:{ToggleSwitch:A,KeyValue:O},props:{value:{type:Object,required:!0},mode:{type:String,required:!0},displaySideBySide:{type:Boolean,default:!1},defaultContainerClass:{type:String,default:""},defaultSectionClass:{type:String,default:""},labelTitleTooltip:{type:String,default:""},annotationTitleTooltip:{type:String,default:""},showAnnotations:{type:Boolean,default:!0},showLabelTitle:{type:Boolean,default:!0}},data(){return{toggler:!1}},computed:{containerClass(){return`${this.displaySideBySide?"row":""} ${this.defaultContainerClass}`.trim()},sectionClass(){return`${this.displaySideBySide?"col span-6":"row"} ${this.defaultSectionClass}`.trim()},columnsClass(){return(""+(this.displaySideBySide?"col span-6":"row")).trim()}}},R=B,P=(a("60a5"),Object(k["a"])(R,s,i,!1,null,"ab6b702c",null));t["a"]=P.exports},"44a3":function(e,t,a){var s=a("03d6");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);var i=a("0ed3").default;i("4b4e430b",s,!0,{sourceMap:!1,shadowMode:!1})},4978:function(e,t,a){"use strict";var s=function(){var e=this,t=e._self._c;return t("LabeledInput",e._b({ref:"value",attrs:{value:e.displayValue,type:"number",min:e.min,mode:e.mode,label:e.label,delay:e.delay,"label-key":e.labelKey,tooltip:e.tooltip,"tooltip-key":e.tooltipKey,required:e.required,placeholder:e.placeholder,"hide-arrows":e.hideArrows},on:{change:function(t){return e.update(t.target.value)},blur:function(t){return e.update(t.target.value)}},scopedSlots:e._u([{key:"suffix",fn:function(){return[e.displayUnit?t("div",{staticClass:"addon",class:{"with-tooltip":e.tooltip||e.tooltipKey}},[e._v(" "+e._s(e.displayUnit)+" ")]):e._e()]},proxy:!0}])},"LabeledInput",e.$attrs,!1))},i=[],o=a("d37d"),n=a("8e93"),r=a("da25"),l={components:{LabeledInput:n["a"]},props:{outputAs:{type:String,default:"number"},outputModifier:{type:Boolean,default:!1},inputExponent:{type:Number,default:0},baseUnit:{type:String,default:"B"},hideArrows:{type:Boolean,default:!1},increment:{type:Number,default:1e3},suffix:{type:String,default:null},mode:{type:String,default:r["n"]},value:{type:[Number,String],default:null},label:{type:String,default:null},labelKey:{type:String,default:null},tooltip:{type:[String,Object],default:null},tooltipKey:{type:String,default:null},required:{type:Boolean,default:!1},min:{type:[Number,String],default:0},placeholder:{type:[String,Number],default:""},delay:{type:Number,default:0}},computed:{unit(){let e;return e=this.inputExponent>=0?o["b"][this.inputExponent]:o["a"][-1*this.inputExponent],1024===this.increment&&e&&(e+="i"),e},parsedValue(){return"string"===typeof this.value?Object(o["f"])(this.value):this.value},displayValue(){let e="";return(this.parsedValue||0===this.parsedValue)&&(e=Object(o["e"])(this.parsedValue,{increment:this.increment,addSuffix:!1,maxExponent:this.inputExponent,minExponent:this.inputExponent})),e},displayUnit(){return this.suffix?this.suffix:this.unit+this.baseUnit}},methods:{focus(){const e=this.$refs.value;e&&e.focus()},update(e){let t=""===e?null:e;this.outputModifier?t=null===t?null:`${e}${this.unit}`:"string"===this.outputAs?t=null===t?"":""+e:t&&(t=this.unit?Object(o["f"])(`${t}${this.unit}`):parseInt(t)),this.$emit("input",t)}}},c=l,d=(a("a613"),a("d802")),u=Object(d["a"])(c,s,i,!1,null,"202c3d90",null);t["a"]=u.exports},5800:function(e,t,a){var s=a("9abc");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);var i=a("0ed3").default;i("79f3cbcf",s,!0,{sourceMap:!1,shadowMode:!1})},"581d":function(e,t,a){var s=a("9873");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);var i=a("0ed3").default;i("9f4bd54c",s,!0,{sourceMap:!1,shadowMode:!1})},5941:function(e,t,a){var s=a("5eaa");t=s(!1),t.push([e.i,".headers[data-v-1b60b9e2]{display:flex;flex-direction:row;justify-content:space-evenly;align-items:center;border-bottom:1px solid var(--border);height:30px}.headers div[data-v-1b60b9e2]{width:100%}.row[data-v-1b60b9e2]:not(:last-of-type){margin-bottom:10px}",""]),e.exports=t},"5e20":function(e,t,a){"use strict";a("b1a6")},"60a5":function(e,t,a){"use strict";a("30c1")},6892:function(e,t,a){"use strict";a("91e0")},"6fbb":function(e,t,a){"use strict";var s=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("mounting-portal",{attrs:{mountTo:"#modals",name:"source",append:""}},[t("transition",{attrs:{name:"modal-fade",appear:""}},[t("div",{staticClass:"modal-overlay",attrs:{"data-modal":e.name},on:{click:e.handleClickOutside}},[t("div",e._b({ref:"modalRef",staticClass:"modal-container",class:e.customClass,style:e.modalStyles,on:{click:function(e){e.stopPropagation()}}},"div",e.$attrs,!1),[e._t("default")],2)])])],1)},i=[],o=a("8bbf"),n=Object(o["defineComponent"])({name:"AppModal",inheritAttrs:!1,props:{clickToClose:{type:Boolean,default:!0},width:{type:[Number,String],default:600,validator(e){return"number"===typeof e?e>0:"string"===typeof e&&/^(0*(?:[1-9][0-9]*|0)\.?\d*)+(px|%)$/.test(e)}},customClass:{type:String,default:""},styles:{type:String,default:""},name:{type:String,default:""}},computed:{modalWidth(){const e="number"===typeof this.width?"px":"";return`${this.width}${e}`},stylesPropToObj(){return this.styles.split(";").map(e=>e.trim().split(":")).reduce((e,[t,a])=>({...e,[t]:a}),{})},modalStyles(){return{width:this.modalWidth,...this.stylesPropToObj}}},mounted(){document.addEventListener("keydown",this.handleEscapeKey)},beforeDestroy(){document.removeEventListener("keydown",this.handleEscapeKey)},methods:{handleClickOutside(e){this.clickToClose&&this.$refs.modalRef&&!this.$refs.modalRef.contains(e.target)&&this.$emit("close")},handleEscapeKey(e){this.clickToClose&&"Escape"===e.key&&this.$emit("close")}}}),r=n,l=(a("a50b"),a("d802")),c=Object(l["a"])(r,s,i,!1,null,null,null);t["a"]=c.exports},7710:function(e,t,a){var s=a("8a08");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);var i=a("0ed3").default;i("1a214546",s,!0,{sourceMap:!1,shadowMode:!1})},"780f":function(e,t,a){var s=a("084a");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);var i=a("0ed3").default;i("26fceccc",s,!0,{sourceMap:!1,shadowMode:!1})},"7d6c":function(e,t,a){var s=a("9ef5"),i=1/0,o=17976931348623157e292;function n(e){if(!e)return 0===e?e:0;if(e=s(e),e===i||e===-i){var t=e<0?-1:1;return t*o}return e===e?e:0}e.exports=n},"81b8":function(e,t,a){var s=a("5eaa");t=s(!1),t.push([e.i,".outer-container[data-v-5c421562]{display:flex;flex-direction:column;flex:1;padding:0;justify-content:flex-start}.header[data-v-5c421562]{display:flex;align-content:space-between;align-items:center;margin-bottom:20px;border-bottom:var(--header-border-size) solid var(--header-border)}.header .step-sequence[data-v-5c421562],.header>.title[data-v-5c421562]{flex:1;min-height:60px;display:flex}.header .step-sequence .steps[data-v-5c421562]{flex:1;margin:0 30px;display:flex;justify-content:space-between;list-style-type:none;padding:0}.header .step-sequence .steps[data-v-5c421562]:focus{outline:none;box-shadow:none}.header .step-sequence .steps li.step[data-v-5c421562]{display:flex;flex-direction:row;flex-grow:1;align-items:center}.header .step-sequence .steps li.step>span>span[data-v-5c421562]:last-of-type{padding-bottom:0}.header .step-sequence .steps li.step[data-v-5c421562]:last-of-type{flex-grow:0}.header .step-sequence .steps li.step .controls[data-v-5c421562]{display:flex;flex-direction:column;align-items:center;width:40px;overflow:visible;padding-top:7px}.header .step-sequence .steps li.step .controls>span[data-v-5c421562]{padding-bottom:3px;margin-bottom:5px;white-space:nowrap}.header .step-sequence .steps li.step.active .controls[data-v-5c421562]{color:var(--primary)}.header .step-sequence .steps li.step:not(.disabled) .controls:hover>*[data-v-5c421562]{color:var(--primary)!important;cursor:pointer}.header .step-sequence .steps li.step:not(.active) .controls>*[data-v-5c421562]{color:var(--input-disabled-text);text-decoration:none}.header .step-sequence .steps .divider[data-v-5c421562]{flex-basis:100%;border-top:1px solid var(--border);position:relative;top:17px}.cru__content .header .step-sequence .steps .divider[data-v-5c421562]{top:13px}.header .choice-banner[data-v-5c421562]{flex-basis:40%;display:flex;align-items:center;margin-bottom:10px}.header .choice-banner.selected[data-v-5c421562]{background-color:var(--accent-btn)}.header .choice-banner.top H2[data-v-5c421562]{margin:0}.header .choice-banner.top .title[data-v-5c421562]{display:flex;align-items:center;justify-content:space-evenly;position:relative}.header .choice-banner.top .title>.subtitle[data-v-5c421562]{margin-right:20px}.header .choice-banner.top .subtitle[data-v-5c421562]{display:flex;flex-direction:column}.header .choice-banner.top .subtitle .subtext[data-v-5c421562]{color:var(--input-label)}.header .choice-banner[data-v-5c421562]:not(.top){box-shadow:0 0 12px 3px var(--box-bg);flex-direction:row;align-items:center;justify-content:start}.header .choice-banner[data-v-5c421562]:not(.top):hover{outline:var(--outline-width) solid var(--outline);cursor:pointer}.header .choice-banner .round-image[data-v-5c421562]{min-width:50px;height:50px;margin:10px 10px 10px 0;border-radius:50%;overflow:hidden}.header .choice-banner .round-image .logo[data-v-5c421562]{min-width:50px;height:50px}.step-container[data-v-5c421562]{position:relative;flex:1 1 auto;height:0;overflow-y:auto;padding:20px 2px 2px 2px;display:flex;flex-direction:column}.step-container__step[data-v-5c421562]{overflow:hidden;display:flex;flex-direction:column;flex:1}.footer-error[data-v-5c421562]{margin-top:-40px;margin-bottom:70px}.controls-row[data-v-5c421562]{margin-left:-20px;margin-right:-20px;padding:10px 20px;display:flex;justify-content:space-between;padding-top:10px;border-top:var(--header-border-size) solid var(--header-border);position:absolute;bottom:0;width:100%;background:var(--body-bg)}.controls-row .controls-steps .btn[data-v-5c421562]{margin-left:10px}",""]),e.exports=t},8275:function(e,t,a){"use strict";var s=a("c230");a.d(t,"a",(function(){return s["a"]}))},"8911c":function(e,t,a){"use strict";a("2fff")},"8a08":function(e,t,a){var s=a("5eaa");t=s(!1),t.push([e.i,".headers[data-v-741e3306]{display:flex;flex-direction:row;justify-content:space-evenly;align-items:center;border-bottom:1px solid var(--border);height:30px;width:calc(100% - 75px)}.headers div[data-v-741e3306]{width:100%}",""]),e.exports=t},"8aa3":function(e,t,a){"use strict";var s=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"headers mb-10"},[t("div",{staticClass:"mr-10"},[t("label",[e._v(e._s(e.t("resourceQuota.headers.resourceType")))])]),t("div",{staticClass:"mr-10"},[t("label",[e._v(e._s(e.t("resourceQuota.headers.projectResourceAvailability")))])]),t("div",{staticClass:"mr-20"},[t("label",[e._v(e._s(e.t("resourceQuota.headers.limit")))])])]),e._l(e.editableLimits,(function(a,s){return t("Row",{key:e.project.id+s,attrs:{value:e.value.resourceQuota,namespace:e.value,mode:e.mode,types:e.mappedTypes,type:a,"project-resource-quota-limits":e.projectResourceQuotaLimits,"default-resource-quota-limits":e.defaultResourceQuotaLimits,"namespace-resource-quota-limits":e.namespaceResourceQuotaLimits},on:{input:e.update}})}))],2)},i=[],o=function(){var e=this,t=e._self._c;return e.typeOption?t("div",{staticClass:"row"},[t("Select",{staticClass:"mr-10",attrs:{mode:e.mode,value:e.type,disabled:!0,options:e.types}}),t("div",{staticClass:"resource-availability mr-10"},[t("PercentageBar",{directives:[{name:"clean-tooltip",rawName:"v-clean-tooltip",value:e.tooltip,expression:"tooltip"}],staticClass:"percentage-bar",attrs:{value:e.percentageUsed,slices:e.slices,"color-stops":{100:"--primary"}}})],1),t("UnitInput",{attrs:{value:e.value.limit[e.type],mode:e.mode,placeholder:e.typeOption.placeholder,increment:e.typeOption.increment,"input-exponent":e.typeOption.inputExponent,"base-unit":e.typeOption.baseUnit,"output-modifier":!0},on:{input:e.update}})],1):e._e()},n=[],r=a("47ab"),l=a("4978"),c=a("ea72"),d=a("d37d"),u=a("2587"),p={components:{Select:r["a"],PercentageBar:c["a"],UnitInput:l["a"]},props:{mode:{type:String,required:!0},types:{type:Array,default:()=>[]},type:{type:String,required:!0},value:{type:Object,default:()=>({})},namespace:{type:Object,default:()=>({})},projectResourceQuotaLimits:{type:Object,default:()=>({})},namespaceResourceQuotaLimits:{type:Array,default:()=>[]},defaultResourceQuotaLimits:{type:Object,default:()=>({})}},mounted(){var e,t;null!==(e=this.value)&&void 0!==e&&null!==(e=e.limit)&&void 0!==e&&e[this.type]&&this.update(this.value.limit[this.type]),null!==(t=this.value)&&void 0!==t&&null!==(t=t.limit)&&void 0!==t&&t[this.type]||this.update(this.defaultResourceQuotaLimits[this.type])},computed:{...u["d"],limitValue(){return Object(d["f"])(this.projectResourceQuotaLimits[this.type])},siOptions(){return{maxExponent:this.typeOption.inputExponent,minExponent:this.typeOption.inputExponent,increment:this.typeOption.increment,suffix:1024===this.typeOption.increment?"i":""}},namespaceLimits(){return this.namespaceResourceQuotaLimits.filter(e=>e[this.type]&&e.id!==this.namespace.id).map(e=>Object(d["f"])(e[this.type],this.siOptions))},namespaceContribution(){return this.namespaceLimits.reduce((e,t)=>e+t,0)},totalContribution(){return this.namespaceContribution+Object(d["f"])(this.value.limit[this.type]||"0",this.siOptions)},percentageUsed(){return Math.min(100*this.totalContribution/this.projectLimit,100)},projectLimit(){return Object(d["f"])(this.projectResourceQuotaLimits[this.type]||0,this.siOptions)},max(){return this.projectLimit-this.namespaceContribution},availableResourceQuotas(){return Object(d["e"])(this.projectLimit-this.totalContribution,{...this.siOptions,addSuffixSpace:!1})},slices(){const e=[];return this.namespaceLimits.forEach((t,a)=>{const s=a>0?this.namespaceLimits[a-1]:0,i=s+t;e.push(100*i/this.projectLimit)}),e},tooltip(){const e=this.$store.getters["i18n/t"],t=[{label:e("resourceQuota.tooltip.reserved"),value:Object(d["e"])(this.namespaceContribution,{...this.siOptions,addSuffixSpace:!1})},{label:e("resourceQuota.tooltip.namespace"),value:this.value.limit[this.type]},{label:e("resourceQuota.tooltip.available"),value:this.availableResourceQuotas},{label:e("resourceQuota.tooltip.max"),value:this.projectResourceQuotaLimits[this.type]}];let a='<div class="quota-percentage-tooltip">';return(t||[]).forEach(e=>{a+=`\n        <div style='margin-top: 5px; display: flex; justify-content: space-between;'>\n          ${e.label}\n          <span style='margin-left: 20px;'>${e.value}</span>\n        </div>`}),a+="</div>",a}},methods:{update(e){const t=Object(d["f"])(e,this.siOptions)||0,a=Math.max(t,0),s=Math.min(a,this.max),i=Object(d["e"])(s,{...this.siOptions,addSuffixSpace:!1});this.$emit("input",this.type,i)}}},h=p,m=(a("8911c"),a("d802")),f=Object(m["a"])(h,o,n,!1,null,"641a935e",null),v=f.exports,b={components:{Row:v},props:{mode:{type:String,required:!0},value:{type:Object,default:()=>({})},project:{type:Object,required:!0},types:{type:Array,default:()=>[]}},data(){return{rows:{}}},computed:{...u["b"],projectResourceQuotaLimits(){var e;return(null===(e=this.project)||void 0===e||null===(e=e.spec)||void 0===e||null===(e=e.resourceQuota)||void 0===e?void 0:e.limit)||{}},namespaceResourceQuotaLimits(){return this.project.namespaces.map(e=>({...e.resourceQuota.limit,id:e.id}))},editableLimits(){return Object.keys(this.projectResourceQuotaLimits)},defaultResourceQuotaLimits(){return this.project.spec.namespaceDefaultResourceQuota.limit}},methods:{remainingTypes(e){return this.mappedTypes.filter(t=>!this.types.includes(t.value)||t.value===e)},update(e,t){const a={limit:{...this.value.resourceQuota.limit,[e]:t}};this.$set(this.value,"resourceQuota",a)}}},y=b,g=(a("5e20"),Object(m["a"])(y,s,i,!1,null,"1b60b9e2",null));t["a"]=g.exports},"8dcf":function(e,t,a){"use strict";a("2b2f")},"8e93":function(e,t,a){"use strict";var s=a("e26b");a.d(t,"a",(function(){return s["a"]}))},"91a6":function(e,t,a){"use strict";a("7710")},"91e0":function(e,t,a){var s=a("1f22");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);var i=a("0ed3").default;i("4f42ea15",s,!0,{sourceMap:!1,shadowMode:!1})},"93d9":function(e,t,a){"use strict";var s=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"row"},[e.showTip?t("div",{staticClass:"col span-12"},[t("p",{staticClass:"helper-text mb-10"},[e.mode===e.viewMode?t("t",{attrs:{k:"containerResourceLimit.helpTextDetail"}}):t("t",{attrs:{k:"containerResourceLimit.helpText"}})],1)]):e._e()]),t("div",{staticClass:"row mb-20"},[t("span",{staticClass:"col span-6"},[t("UnitInput",{attrs:{placeholder:e.t("containerResourceLimit.cpuPlaceholder"),label:e.t("containerResourceLimit.requestsCpu"),mode:e.mode,"input-exponent":-1,"output-modifier":!0,"base-unit":e.t("suffix.cpus"),"data-testid":"cpu-reservation"},on:{input:e.updateLimits},model:{value:e.requestsCpu,callback:function(t){e.requestsCpu=t},expression:"requestsCpu"}})],1),t("span",{staticClass:"col span-6"},[t("UnitInput",{attrs:{placeholder:e.t("containerResourceLimit.memPlaceholder"),label:e.t("containerResourceLimit.requestsMemory"),mode:e.mode,"input-exponent":2,increment:1024,"output-modifier":!0,"data-testid":"memory-reservation"},on:{input:e.updateLimits},model:{value:e.requestsMemory,callback:function(t){e.requestsMemory=t},expression:"requestsMemory"}})],1)]),t("div",{staticClass:"row mb-20"},[t("span",{staticClass:"col span-6"},[t("UnitInput",{attrs:{placeholder:e.t("containerResourceLimit.cpuPlaceholder"),label:e.t("containerResourceLimit.limitsCpu"),mode:e.mode,"input-exponent":-1,"output-modifier":!0,"base-unit":e.t("suffix.cpus"),"data-testid":"cpu-limit"},on:{input:e.updateLimits},model:{value:e.limitsCpu,callback:function(t){e.limitsCpu=t},expression:"limitsCpu"}})],1),t("span",{staticClass:"col span-6"},[t("UnitInput",{attrs:{placeholder:e.t("containerResourceLimit.memPlaceholder"),label:e.t("containerResourceLimit.limitsMemory"),mode:e.mode,"input-exponent":2,increment:1024,"output-modifier":!0,"data-testid":"memory-limit"},on:{input:e.updateLimits},model:{value:e.limitsMemory,callback:function(t){e.limitsMemory=t},expression:"limitsMemory"}})],1)]),e.handleGpuLimit?t("div",{staticClass:"row"},[t("span",{staticClass:"col span-6"},[t("UnitInput",{attrs:{placeholder:e.t("containerResourceLimit.gpuPlaceholder"),label:e.t("containerResourceLimit.limitsGpu"),mode:e.mode,"base-unit":e.t("suffix.gpus"),"data-testid":"gpu-limit"},on:{input:e.updateLimits},model:{value:e.limitsGpu,callback:function(t){e.limitsGpu=t},expression:"limitsGpu"}})],1)]):e._e()])},i=[],o=a("330a"),n=a.n(o),r=a("4978"),l=a("4ac6"),c=a("e24b"),d=a("da25"),u={components:{UnitInput:r["a"]},props:{mode:{type:String,default:"create"},namespace:{type:Object,default:null},value:{type:Object,default:()=>({})},handleGpuLimit:{type:Boolean,default:!0},registerBeforeHook:{type:Function,default:null},showTip:{type:Boolean,default:!0}},data(){const{limitsCpu:e,limitsMemory:t,requestsCpu:a,requestsMemory:s,limitsGpu:i}=this.value;return{limitsCpu:e,limitsMemory:t,requestsCpu:a,requestsMemory:s,limitsGpu:i,viewMode:d["u"]}},watch:{value(){const{limitsCpu:e,limitsMemory:t,requestsCpu:a,requestsMemory:s,limitsGpu:i}=this.value;this.limitsCpu=e,this.limitsMemory=t,this.requestsCpu=a,this.requestsMemory=s,this.limitsGpu=i}},computed:{detailTopColumns(){return[{title:this.$store.getters["i18n/t"]("generic.created"),name:"created"}]}},created(){var e;null!==this&&void 0!==this&&null!==(e=this.namespace)&&void 0!==e&&e.id&&this.initLimits(),this.registerBeforeHook&&this.registerBeforeHook(this.updateBeforeSave)},methods:{updateLimits(){const{limitsCpu:e,limitsMemory:t,requestsCpu:a,requestsMemory:s,limitsGpu:i}=this;this.$emit("input",Object(c["d"])({limitsCpu:e,limitsMemory:t,requestsCpu:a,limitsGpu:i,requestsMemory:s}))},updateBeforeSave(e){const{limitsCpu:t,limitsMemory:a,requestsCpu:s,requestsMemory:i,limitsGpu:o}=this,n=this.namespace,r=Object(c["d"])({limitsCpu:t,limitsMemory:a,requestsCpu:s,limitsGpu:o,requestsMemory:i});n&&n.setAnnotation(l["d"],JSON.stringify(r))},initLimits(){var e;const t=this.namespace,a=null===t||void 0===t||null===(e=t.metadata)||void 0===e?void 0:e.annotations[l["d"]];if(!n()(a)&&"null"!==a){const{limitsCpu:e,limitsMemory:t,requestsCpu:s,requestsMemory:i,limitsGpu:o}=JSON.parse(a);this.limitsCpu=e,this.limitsMemory=t,this.requestsCpu=s,this.requestsMemory=i,this.limitsGpu=o}}}},p=u,h=a("d802"),m=Object(h["a"])(p,s,i,!1,null,null,null);t["a"]=m.exports},"977f":function(e,t,a){"use strict";var s=function(){var e=this,t=e._self._c;return t("div",[e.title?t("div",{staticClass:"clearfix"},[e._t("title",(function(){return[t("h3",[e._v(" "+e._s(e.title)+" "),e.showProtip?t("i",{directives:[{name:"clean-tooltip",rawName:"v-clean-tooltip",value:e.protip,expression:"protip"}],staticClass:"icon icon-info"}):e._e()])]}))],2):e._e(),e.rows.length?[e.showHeader?t("div",[e._t("column-headers",(function(){return[t("label",{staticClass:"value text-label mb-10"},[e._v(" "+e._s(e.valueLabel)+" ")])]}))],2):e._e(),e._l(e.rows,(function(a,s){return t("div",{key:s,staticClass:"box",attrs:{"data-testid":"array-list-box"+s}},[e._t("columns",(function(){return[t("div",{staticClass:"value"},[e._t("value",(function(){return[e.valueMultiline?t("TextAreaAutoGrow",{ref:"value",refInFor:!0,attrs:{"data-testid":"textarea-"+s,placeholder:e.valuePlaceholder,mode:e.mode,disabled:e.disabled},on:{paste:function(t){return e.onPaste(s,t)},input:e.queueUpdate},model:{value:a.value,callback:function(t){e.$set(a,"value",t)},expression:"row.value"}}):e.rules.length>0?t("LabeledInput",{ref:"value",refInFor:!0,attrs:{"data-testid":"labeled-input-"+s,placeholder:e.valuePlaceholder,disabled:e.isView||e.disabled,rules:e.rules,compact:!1},on:{paste:function(t){return e.onPaste(s,t)},input:e.queueUpdate},model:{value:a.value,callback:function(t){e.$set(a,"value",t)},expression:"row.value"}}):t("input",{directives:[{name:"model",rawName:"v-model",value:a.value,expression:"row.value"}],ref:"value",refInFor:!0,attrs:{"data-testid":"input-"+s,placeholder:e.valuePlaceholder,disabled:e.isView||e.disabled},domProps:{value:a.value},on:{paste:function(t){return e.onPaste(s,t)},input:[function(t){t.target.composing||e.$set(a,"value",t.target.value)},e.queueUpdate]}})]}),{row:a,mode:e.mode,isView:e.isView,queueUpdate:e.queueUpdate})],2)]}),{queueUpdate:e.queueUpdate,i:s,rows:e.rows,row:a,mode:e.mode,isView:e.isView}),e.showRemove?t("div",{staticClass:"remove"},[e._t("remove-button",(function(){return[t("button",{staticClass:"btn role-link",attrs:{type:"button",disabled:e.isView,"data-testid":"remove-item-"+s},on:{click:function(t){return e.remove(a,s)}}},[e._v(" "+e._s(e._removeLabel)+" ")])]}),{remove:()=>e.remove(a,s),i:s,row:a})],2):e._e()],2)}))]:t("div",[e._t("empty",(function(){return["view"===e.mode?t("div",{staticClass:"text-muted"},[e._v(" — ")]):e._e()]}))],2),e.showAdd&&!e.isView?t("div",{staticClass:"footer mt-20"},[e.showAdd?e._t("add",(function(){return[t("button",{staticClass:"btn role-tertiary add",attrs:{type:"button",disabled:e.loading||e.disableAdd,"data-testid":"array-list-button"},on:{click:function(t){return e.add()}}},[e.loading?t("i",{staticClass:"mr-5 icon icon-spinner icon-spin icon-lg"}):e._e(),e._v(" "+e._s(e._addLabel)+" ")])]}),{add:e.add}):e._e()],2):e._e()],2)},i=[],o=a("44db"),n=a.n(o),r=a("da25"),l=a("bddd"),c=a("8275"),d=a("e24b"),u=a("8e93");const p="Tip: Paste lines into any list field for easy bulk entry";var h={components:{TextAreaAutoGrow:c["a"],LabeledInput:u["a"]},props:{value:{type:Array,default:null},mode:{type:String,default:r["n"]},initialEmptyRow:{type:Boolean,default:!1},title:{type:String,default:""},protip:{type:[String,Boolean],default:p},showHeader:{type:Boolean,default:!1},valueLabel:{type:String,default:"Value"},valuePlaceholder:{type:String,default:"e.g. bar"},valueMultiline:{type:Boolean,default:!1},addLabel:{type:String,default:""},addAllowed:{type:Boolean,default:!0},addDisabled:{type:Boolean,default:!1},removeLabel:{type:String,default:""},removeAllowed:{type:Boolean,default:!0},defaultAddValue:{type:[String,Number,Object,Array],default:""},loading:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},rules:{default:()=>[],type:Array,validator:e=>e.every(e=>["function"].includes(typeof e))}},data(){const e=(this.value||[]).slice(),t=[];for(const a of e)t.push({value:a});if(!t.length&&this.initialEmptyRow){const e=this.defaultAddValue?Object(d["e"])(this.defaultAddValue):"";t.push({value:e})}return{rows:t,lastUpdateWasFromValue:!1}},computed:{_addLabel(){return this.addLabel||this.t("generic.add")},_removeLabel(){return this.removeLabel||this.t("generic.remove")},isView(){return this.mode===r["u"]},showAdd(){return this.addAllowed},disableAdd(){return this.addDisabled},showRemove(){return this.removeAllowed},isDefaultProtip(){return this.protip===p},showProtip(){return!(!this.protip||this.isDefaultProtip)||!this.valueMultiline&&this.protip}},watch:{value(){this.lastUpdateWasFromValue=!0,this.rows=(this.value||[]).map(e=>({value:e}))},rows:{deep:!0,handler(e,t){this.lastUpdateWasFromValue||this.queueUpdate(),this.lastUpdateWasFromValue=!1}}},created(){this.queueUpdate=n()(this.update,50)},methods:{add(){this.rows.push({value:Object(d["e"])(this.defaultAddValue)}),this.defaultAddValue&&this.queueUpdate(),this.$nextTick(()=>{const e=this.$refs.value;e&&e.length>0&&e[e.length-1].focus(),this.$emit("add")})},remove(e,t){this.$emit("remove",{row:e,index:t}),Object(l["h"])(this.rows,t),this.queueUpdate()},update(){if(this.isView)return;const e=[];for(const t of this.rows){const a=!this.valueMultiline&&"string"===typeof t.value,s=a?t.value.trim():t.value;"undefined"!==typeof s&&e.push(s)}this.$emit("input",e)},onPaste(e,t){t.preventDefault();const a=t.clipboardData.getData("text/plain");if(this.valueMultiline)this.rows[e].value=a;else{const s=a.split("\n").map(e=>({value:e}));t.preventDefault(),this.rows.splice(e,1,...s)}this.update()}}},m=h,f=(a("bfee"),a("d802")),v=Object(f["a"])(m,s,i,!1,null,"59aaa5e9",null);t["a"]=v.exports},9873:function(e,t,a){var s=a("5eaa");t=s(!1),t.push([e.i,".cru-resource-yaml-container .resource-yaml .yaml-editor[data-v-5d7d1298]{min-height:100px}.create-resource-container .resource-container[data-v-5d7d1298]{display:flex;flex-direction:column}.create-resource-container .subtype-banner .round-image[data-v-5d7d1298]{background-color:var(--primary)}.title[data-v-5d7d1298]{margin-top:20px}.title.with-description[data-v-5d7d1298]{margin-top:0}.subtype-container[data-v-5d7d1298]{position:relative;display:flex;height:100%}.subtype-body[data-v-5d7d1298]{flex:1;padding:10px}.subtype-logo[data-v-5d7d1298]{align-items:center;display:flex;justify-content:center;min-width:100px;min-height:100px;overflow:hidden;background-color:var(--box-bg)}.subtype-logo img[data-v-5d7d1298]{width:56px;height:56px;-o-object-fit:contain;object-fit:contain;position:relative;top:2px}form.create-resource-container .cru__footer[data-v-5d7d1298]{border-top:var(--header-border-size) solid var(--header-border)}.cru[data-v-5d7d1298],.cru__form[data-v-5d7d1298]{display:flex;flex-direction:column;flex-grow:1}.cru__content[data-v-5d7d1298]{flex-grow:1}.cru__content-wizard[data-v-5d7d1298]{display:flex}.cru__footer[data-v-5d7d1298]{right:0;bottom:0;margin-left:-20px;margin-right:-20px;margin-bottom:-20px;padding:10px 20px}.cru__errors[data-v-5d7d1298],.cru__footer[data-v-5d7d1298]{position:sticky;background-color:var(--header-bg)}.cru__errors[data-v-5d7d1298]{top:0;z-index:1;margin:10px 0}.description[data-v-5d7d1298]{margin-bottom:15px;margin-top:5px}",""]),e.exports=t},"9abc":function(e,t,a){var s=a("5eaa");t=s(!1),t.push([e.i,".row[data-v-3d1c0d97]{display:flex;flex-direction:row;justify-content:space-evenly}",""]),e.exports=t},"9b66":function(e,t,a){var s=a("7d6c");function i(e){var t=s(e),a=t%1;return t===t?a?t-a:t:0}e.exports=i},a1d8:function(e,t){function a(e){return e&&e.length?e[0]:void 0}e.exports=a},a485:function(e,t,a){"use strict";a("5800")},a50b:function(e,t,a){"use strict";a("b067")},a613:function(e,t,a){"use strict";a("dfb5")},a8f8:function(e,t,a){var s=a("0896");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);var i=a("0ed3").default;i("96ba672a",s,!0,{sourceMap:!1,shadowMode:!1})},b067:function(e,t,a){var s=a("e626");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);var i=a("0ed3").default;i("d94f2908",s,!0,{sourceMap:!1,shadowMode:!1})},b0d9:function(e,t,a){"use strict";a("b5bd")},b190:function(e,t,a){var s=a("5eaa");t=s(!1),t.push([e.i,'.toggle-container[data-v-40a56591]{align-items:center;display:flex}.toggle-container span[data-v-40a56591]:first-child{padding-right:6px}.toggle-container span[data-v-40a56591]:last-child{padding-left:6px}.switch[data-v-40a56591]{position:relative;display:inline-block;width:48px;height:24px}.switch input[data-v-40a56591]{opacity:0;width:0;height:0}.slider[data-v-40a56591]{cursor:pointer;top:0;left:0;right:0;bottom:0;background-color:var(--checkbox-disabled-bg)}.slider[data-v-40a56591],.slider[data-v-40a56591]:before{position:absolute;transition:.4s}.slider[data-v-40a56591]:before{content:"";height:16px;width:16px;left:4px;bottom:4px;background-color:var(--checkbox-tick)}input:checked+.slider[data-v-40a56591]{background-color:var(--checkbox-ticked-bg)}input:focus+.slider[data-v-40a56591]{box-shadow:0 0 1px var(--checkbox-ticked-bg)}input:checked+.slider[data-v-40a56591]:before{transform:translateX(24px)}.slider.round[data-v-40a56591]{border-radius:34px}.slider.round[data-v-40a56591]:before{border-radius:50%}',""]),e.exports=t},b1a6:function(e,t,a){var s=a("5941");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);var i=a("0ed3").default;i("6787ff29",s,!0,{sourceMap:!1,shadowMode:!1})},b5bd:function(e,t,a){var s=a("f286");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);var i=a("0ed3").default;i("2377d964",s,!0,{sourceMap:!1,shadowMode:!1})},b622:function(e,t,a){var s=a("e795");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);var i=a("0ed3").default;i("cc4cbeae",s,!0,{sourceMap:!1,shadowMode:!1})},b625:function(e,t,a){"use strict";a("44a3")},b648:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));const s="harvester"},b7b8:function(e,t,a){"use strict";var s=function(){var e=this,t=e._self._c;return e.showModal?t("app-modal",{staticClass:"move-modal",attrs:{name:e.modalName,width:440,height:"auto"},on:{close:e.close}},[e.$fetchState.pending?t("Loading"):t("Card",{staticClass:"move-modal-card",attrs:{"show-highlight-border":!1},scopedSlots:e._u([{key:"actions",fn:function(){return[t("button",{staticClass:"btn role-secondary",on:{click:e.close}},[e._v(" "+e._s(e.t("generic.cancel"))+" ")]),t("AsyncButton",{staticClass:"btn bg-primary ml-10",attrs:{"action-label":e.t("moveModal.moveButtonLabel"),disabled:!e.targetProject},on:{click:e.move}})]},proxy:!0}],null,!1,1808624608)},[t("h4",{staticClass:"text-default-text",attrs:{slot:"title"},slot:"title"},[e._v(" "+e._s(e.t("moveModal.title"))+" ")]),t("div",{attrs:{slot:"body"},slot:"body"},[t("div",[e._v(" "+e._s(e.t("moveModal.description"))+" "),t("ul",{staticClass:"namespaces"},e._l(e.toMove,(function(a){return t("li",{key:a.id},[e._v(" "+e._s(a.nameDisplay)+" ")])})),0)]),t("LabeledSelect",{attrs:{options:e.projectOptions,label:e.t("moveModal.targetProject")},model:{value:e.targetProject,callback:function(t){e.targetProject=t},expression:"targetProject"}})],1)])],1):e._e()},i=[],o=a("9ce4"),n=a("7b9e"),r=a("d709"),l=a("6fbb"),c=a("466b"),d=a("907c"),u=a("15ca"),p=a("4ac6"),h={components:{AsyncButton:r["b"],Card:n["a"],LabeledSelect:c["a"],Loading:u["a"],AppModal:l["a"]},async fetch(){this.projects=await this.$store.dispatch("management/findAll",{type:d["n"].PROJECT})},data(){return{modalName:"move-modal",projects:[],targetProject:null,showModal:!1}},computed:{...Object(o["c"])("action-menu",["showPromptMove","toMove"]),...Object(o["b"])(["currentCluster"]),excludedProjects(){return this.toMove.filter(e=>!!e.project).map(e=>e.project.shortId)},projectOptions(){return this.projects.reduce((e,t)=>{var a;return this.excludedProjects.includes(t.shortId)||(null===(a=t.spec)||void 0===a?void 0:a.clusterName)!==this.currentCluster.id||e.push({value:t.shortId,label:t.nameDisplay}),e},[])}},watch:{showPromptMove(e){this.showModal=!!e}},methods:{close(){this.$store.commit("action-menu/togglePromptMove")},async move(e){const t=this.$store.getters["currentCluster"],a=`${t.id}:${this.targetProject}`,s=this.toMove.map(e=>(e.setLabel(p["j"],this.targetProject),e.setAnnotation(p["j"],a),e.save()));try{this.$emit("moving"),await Promise.all(s),e(!0),this.targetProject=null,this.close()}catch(i){e(!1)}}}},m=h,f=(a("d1f0"),a("d802")),v=Object(f["a"])(m,s,i,!1,null,null,null);t["a"]=v.exports},b9f4:function(e,t,a){"use strict";a("d363")},bb89:function(e,t,a){var s=a("5eaa");t=s(!1),t.push([e.i,".move-modal .namespaces{max-height:200px;overflow-y:scroll}.move-modal .move-modal-card{box-shadow:none;border-radius:var(--border-radius)}.move-modal .actions{text-align:right}.move-modal .card-actions{display:flex;justify-content:center}",""]),e.exports=t},bd9c:function(e,t,a){"use strict";var s=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"psa"},[t("p",{staticClass:"mb-30"},[t("t",{attrs:{k:"podSecurityAdmission.description"}})],1),e._l(e.psaControls,(function(a,s,i){return t("div",{key:"psaControl-"+i,staticClass:"row row--y-center mb-20"},[t("span",{staticClass:"col span-2"},[e.labelsAlwaysActive?t("p",[t("t",{attrs:{k:"podSecurityAdmission.labels."+s}})],1):t("Checkbox",{attrs:{"data-testid":e.componentTestid+"--psaControl-"+i+"-active",label:s,"label-key":"podSecurityAdmission.labels."+s,disabled:e.isView},on:{input:function(t){return e.updateLabels()}},model:{value:a.active,callback:function(t){e.$set(a,"active",t)},expression:"psaControl.active"}})],1),t("span",{staticClass:"col span-4"},[t("LabeledSelect",{attrs:{"data-testid":e.componentTestid+"--psaControl-"+i+"-level",disabled:e.isPsaControlDisabled(a.active),options:e.options,mode:e.mode},on:{input:function(t){return e.updateLabels()}},model:{value:a.level,callback:function(t){e.$set(a,"level",t)},expression:"psaControl.level"}})],1),t("span",{staticClass:"col span-4"},[t("LabeledInput",{attrs:{"data-testid":e.componentTestid+"--psaControl-"+i+"-version",disabled:e.isPsaControlDisabled(a.active),options:e.options,placeholder:e.t("podSecurityAdmission.version.placeholder",{psaControl:e.mode}),mode:e.mode},on:{input:function(t){return e.updateLabels()}},model:{value:a.version,callback:function(t){e.$set(a,"version",t)},expression:"psaControl.version"}})],1)])})),e.hasExemptions?[e._t("title",(function(){return[t("h3",[t("t",{attrs:{k:"podSecurityAdmission.exemptions.title"}})],1)]})),t("p",{staticClass:"mb-30"},[t("t",{attrs:{k:"podSecurityAdmission.exemptions.description"}})],1),e._l(e.psaExemptionsControls,(function(a,s,i){return t("div",{key:"psaExemptionsControl-"+i,staticClass:"row row--y-center mb-20"},[t("span",{staticClass:"col span-2"},[t("Checkbox",{attrs:{"data-testid":e.componentTestid+"--psaExemptionsControl-"+i+"-active",label:s,"label-key":"podSecurityAdmission.labels."+s,disabled:e.isView},on:{input:function(t){return e.updateExemptions()}},model:{value:a.active,callback:function(t){e.$set(a,"active",t)},expression:"psaExemptionsControl.active"}})],1),t("span",{staticClass:"col span-8"},[t("LabeledInput",{attrs:{"data-testid":e.componentTestid+"--psaExemptionsControl-"+i+"-value",disabled:e.isView||!a.active,options:e.options,placeholder:e.t("podSecurityAdmission.exemptions.placeholder",{psaExemptionsControl:s}),mode:e.mode},on:{input:function(t){return e.updateExemptions()}},model:{value:a.value,callback:function(t){e.$set(a,"value",t)},expression:"psaExemptionsControl.value"}})],1)])}))]:e._e()],2)},i=[],o=a("8bbf"),n=a("da25"),r=a("466b"),l=a("1032"),c=a("e26b");const d="pod-security.kubernetes.io/",u=["enforce","audit","warn"],p=["privileged","baseline","restricted"],h=["usernames","runtimeClasses","namespaces"],m=p[0],f="latest",v=u.reduce((e,t)=>[...e,`${d}${t}`],[]),b=u.reduce((e,t)=>[...e,`${d}${t}-version`],[]),y=[...v,...b];Object.assign({},...y.map(e=>({[e]:"icon-pod_security"})));var g=a("e24b");const x=()=>({active:!1,level:m,version:""}),w=()=>({active:!1,value:""});var _=Object(o["defineComponent"])({components:{Checkbox:l["a"],LabeledSelect:r["a"],LabeledInput:c["a"]},props:{labels:{type:Object,default:()=>({})},labelsAlwaysActive:{type:Boolean,default:!1},mode:{type:String,required:!0},exemptions:{type:Object,default:()=>({})},labelsPrefix:{type:String,default:""},componentTestid:{type:String,default:"pod-security-admission"}},data(){return{psaControls:Object(g["n"])(u,x),psaExemptionsControls:Object(g["n"])(h,w),options:p.map(e=>({value:e,label:this.t("podSecurityAdmission.labels."+e)}))}},watch:{},computed:{isView(){return this.mode===n["u"]},hasExemptions(){return Object.keys(this.exemptions).length>0}},created(){this.psaControls={...this.psaControls,...this.getPsaControls()},this.psaExemptionsControls=this.getPsaExemptions(),this.mode===n["l"]&&this.labelsAlwaysActive&&(this.updateLabels(),this.updateExemptions())},methods:{updateLabels(){const e=Object(g["l"])(this.labels,(e,t)=>!t.includes(this.labelsPrefix)),t=u.reduce((e,t)=>this.psaControls[t].active||this.labelsAlwaysActive?{...e,[`${this.labelsPrefix}${t}`]:this.psaControls[t].level||m,[`${this.labelsPrefix}${t}-version`]:this.psaControls[t].version||f}:e,e);this.$emit("updateLabels",t)},updateExemptions(){const e=h.reduce((e,t)=>{const a=this.psaExemptionsControls[t].value.split(",").map(e=>e.trim()),s=this.psaExemptionsControls[t].active;return{...e,[t]:s&&a?a:[]}},{});this.$emit("updateExemptions",e)},getPsaControls(){return u.reduce((e,t)=>{const a=this.labels[`${this.labelsPrefix}${t}`],s=(this.labels[`${this.labelsPrefix}${t}-version`]||"").replace(f,"");return a?{...e,[t]:{active:!0,level:a,version:s}}:e},{})},getPsaExemptions(){return h.reduce((e,t)=>{const a=(this.exemptions[t]||[]).map(e=>e.trim()).join(",");return{...e,[t]:{active:!!a.length,value:a}}},{})},isPsaControlDisabled(e){return!this.labelsAlwaysActive&&(!e||this.isView)}}}),C=_,k=a("d802"),S=Object(k["a"])(C,s,i,!1,null,null,null);t["a"]=S.exports},bfee:function(e,t,a){"use strict";a("780f")},c230:function(e,t,a){"use strict";var s=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("textarea",e._b({ref:"ta",staticClass:"no-resize no-ease",style:e.style,attrs:{"data-testid":e.$attrs["data-testid"]?e.$attrs["data-testid"]:"text-area-auto-grow",disabled:e.isDisabled,placeholder:e.placeholder,spellcheck:e.spellcheck},on:{paste:function(t){return e.$emit("paste",t)},input:function(t){return e.onInput(t)},focus:function(t){return e.$emit("focus",t)},blur:function(t){return e.$emit("blur",t)}}},"textarea",e.$attrs,!1))},i=[],o=a("8bbf"),n=a("44db"),r=a.n(n),l=a("da25"),c=Object(o["defineComponent"])({inheritAttrs:!1,props:{mode:{type:String,default:l["n"]},minHeight:{type:Number,default:25},maxHeight:{type:Number,default:200},placeholder:{type:String,default:""},spellcheck:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1}},data(){return{curHeight:this.minHeight,overflow:"hidden"}},computed:{isDisabled(){return this.disabled||this.mode===l["u"]},style(){return`height: ${this.curHeight}px; overflow: ${this.overflow};`}},watch:{$attrs:{deep:!0,handler(){this.queueResize()}}},created(){this.queueResize=r()(this.autoSize,100)},mounted(){this.$refs.ta.style.height=this.curHeight+"px",this.$nextTick(()=>{this.autoSize()})},methods:{onInput(e){var t;const a=null===(t=null===e||void 0===e?void 0:e.target)||void 0===t?void 0:t.value;this.$emit("input",a),this.queueResize()},focus(){var e;(null===(e=this.$refs)||void 0===e?void 0:e.ta).focus()},autoSize(){const e=this.$refs.ta;if(!e)return;e.style.height="1px";const t=parseInt(getComputedStyle(e).getPropertyValue("borderTopWidth"),10)||0+parseInt(getComputedStyle(e).getPropertyValue("borderBottomWidth"),10)||0,a=Math.max(this.minHeight,Math.min(e.scrollHeight+t,this.maxHeight));e.style.overflowY=e.scrollHeight>a?"auto":"hidden",e.style.height=a+"px",this.curHeight=a}}}),d=c,u=a("d802"),p=Object(u["a"])(d,s,i,!1,null,null,null);t["a"]=p.exports},c422:function(e,t,a){"use strict";var s=function(){var e=this,t=e._self._c;return t("Tabbed",e._b({attrs:{"default-tab":e.defaultTab},on:{changed:e.tabChange}},"Tabbed",e.$attrs,!1),[e._t("default"),e.showConditions?t("Tab",{attrs:{"label-key":"resourceTabs.conditions.tab",name:"conditions",weight:-1,"display-alert-icon":e.conditionsHaveIssues}},[t("Conditions",{attrs:{value:e.value}})],1):e._e(),e.showEvents?t("Tab",{attrs:{"label-key":"resourceTabs.events.tab",name:"events",weight:-2}},["events"===e.selectedTab?t("SortableTable",{attrs:{rows:e.events,headers:e.eventHeaders,"key-field":"id",search:!1,"table-actions":!1,"row-actions":!1,"default-sort-by":"date"}}):e._e()],1):e._e(),e.showRelated?t("Tab",{attrs:{name:"related","label-key":"resourceTabs.related.tab",weight:-3}},[t("h3",{directives:[{name:"t",rawName:"v-t",value:"resourceTabs.related.from",expression:"'resourceTabs.related.from'"}]}),t("RelatedResources",{attrs:{"ignore-types":[e.value.type],value:e.value,direction:"from"}}),t("h3",{directives:[{name:"t",rawName:"v-t",value:"resourceTabs.related.to",expression:"'resourceTabs.related.to'"}],staticClass:"mt-20"}),t("RelatedResources",{attrs:{"ignore-types":[e.value.type],value:e.value,direction:"to"}})],1):e._e(),e._l(e.extensionTabs,(function(a,s){return t("Tab",{key:`${a.name}${s}`,attrs:{name:a.name,label:a.label,"label-key":a.labelKey,weight:a.weight,tooltip:a.tooltip,"show-header":a.showHeader,"display-alert-icon":a.displayAlertIcon,error:a.error,badge:a.badge}},[t(a.component,{tag:"component",attrs:{resource:e.value}})],1)}))],2)},i=[],o=a("0cb2"),n=a("38de"),r=a("305c"),l=function(){var e=this,t=e._self._c;return t("SortableTable",{attrs:{headers:e.headers,rows:e.rows,"key-field":"condition","default-sort-by":"condition","table-actions":!1,"row-actions":!1,search:!1},scopedSlots:e._u([{key:"cell:condition",fn:function({row:a}){return[t("span",{class:{"text-error":a.error}},[e._v(e._s(a.condition))])]}},{key:"cell:status",fn:function({row:a}){return[t("span",{class:{"text-error":a.error}},[e._v(e._s(a.status))])]}}])})},c=[],d=a("0fb1"),u={components:{SortableTable:d["a"]},props:{value:{type:Object,default:()=>({})}},computed:{headers(){return[{name:"condition",labelKey:"tableHeaders.condition",value:"condition",width:150,sort:"condition",dashIfEmpty:!0},{name:"status",labelKey:"tableHeaders.status",value:"status",width:75,sort:"status",dashIfEmpty:!0},{name:"time",labelKey:"tableHeaders.updated",value:"time",sort:"time",formatter:"LiveDate",formatterOpts:{addSuffix:!0},width:125,dashIfEmpty:!0},{name:"message",labelKey:"tableHeaders.message",value:"message",sort:["message"],dashIfEmpty:!0}]},rows(){var e;return((null===(e=this.value.status)||void 0===e?void 0:e.conditions)||[]).map(e=>{let t=e.message||"";return e.reason&&(t=`[${e.reason}] ${t}`.trim()),{condition:e.type||"Unknown",status:e.status||"Unknown",error:e.error,time:e.lastProbeTime||e.lastUpdateTime||e.lastTransitionTime,message:t}})}}},p=u,h=a("d802"),m=Object(h["a"])(p,l,c,!1,null,null,null),f=m.exports,v=a("907c"),b=a("da25"),y=function(){var e=this,t=e._self._c;return t("ResourceTable",{attrs:{schema:null,rows:e.rows,headers:e.headers,search:!1,"table-actions":!1,namespaced:!0,"mangle-action-resources":e.getRealResources,"paging-label":"sortableTable.paging.generic",groupable:!1},scopedSlots:e._u([{key:"cell:state",fn:function({row:e}){return[e.real?t("BadgeState",{attrs:{value:e.real}}):t("BadgeState",{attrs:{value:e}})]}}])})},g=[],x=a("126f"),w=a("9c09"),_=a("462f"),C=a("1d19"),k=a("bcb3"),S=a("f17a"),O={components:{ResourceTable:x["a"],BadgeState:S["a"]},props:{value:{type:Object,required:!0},rel:{type:String,default:null},direction:{type:String,default:"to"},ignoreTypes:{type:Array,default:()=>[]}},data(){return{loadedResources:1}},computed:{filteredRelationships(){var e;let t=(null===(e=this.value)||void 0===e||null===(e=e.metadata)||void 0===e?void 0:e.relationships)||[];return t=t.filter(e=>{const t=e[this.direction+"Type"];return!(!t||this.ignoreTypes.includes(t))&&(!this.rel||e.rel===this.rel)}),t},rows(){if(this.loadedResources<1)return;const e=this.$store.getters["clusterId"],t=this.$store.getters["currentStore"](),a=[];for(const s of this.filteredRelationships){const i=s.state||"active",o=Object(w["b"])(i,s.error,s.transitioning),n=s[this.direction+"Type"],r=this.$store.getters[t+"/schemaFor"](n);let l=s[this.direction+"Id"];if(!l)continue;let c=null;const d=l.indexOf("/"),u=`${n}/${c}/${l}`;d>0&&(c=l.substr(0,d),l=l.substr(d+1));const p={name:`c-cluster-product-resource${c?"-namespace":""}-id`,params:{product:k["a"],cluster:"management"===t?"local":e,resource:n,namespace:c,id:l}};a.push({type:n,real:this.$store.getters[t+"/byId"](n,s[this.direction+"Id"]),id:s[this.direction+"Id"],state:i,metadata:{namespace:c,name:l},_key:u,name:l,namespace:c,nameDisplay:l,nameSort:Object(C["b"])(l).toLowerCase(),stateColor:o,detailLocation:p,typeDisplay:this.$store.getters["type-map/labelFor"](r),stateDisplay:Object(w["f"])(i),stateBackground:o.replace("text-","bg-"),groupByLabel:c})}return a},headers(){return[_["N"],_["S"],_["v"],_["w"]]}},methods:{async getRealResources(e){const t=this.$store.getters["currentStore"](),a=await Promise.allSettled(e.map(e=>this.$store.dispatch(t+"/find",{type:e.type,id:e.id}))),s=[];for(let i=0;i<a.length;i++)"fulfilled"===a[i].status&&s.push(a[i].value);return this.loadedResources++,s}}},j=O,T=Object(h["a"])(j,y,g,!1,null,null,null),N=T.exports,$=a("7083"),M=a("1722"),L={name:"ResourceTabs",components:{Tabbed:o["a"],Tab:n["a"],Conditions:f,SortableTable:d["a"],RelatedResources:N},mixins:[r["a"]],props:{value:{type:Object,default:()=>({})},mode:{type:String,default:b["u"]},defaultTab:{type:String,default:null},needConditions:{type:Boolean,default:!0},needEvents:{type:Boolean,default:!0},needRelated:{type:Boolean,default:!0},extensionParams:{type:Object,default:null}},data(){const e=this.$store.getters["currentStore"](v["g"]);return{hasEvents:this.$store.getters[e+"/schemaFor"](v["g"]),allEvents:[],selectedTab:this.defaultTab,didLoadEvents:!1,extensionTabs:Object(M["a"])(this,$["c"].TAB,$["e"].RESOURCE_DETAIL,this.$route,this,this.extensionParams),inStore:e,showConditions:!1}},beforeDestroy(){this.$store.dispatch("cluster/forgetType",v["g"])},fetch(){this.setShowConditions()},computed:{showEvents(){return this.isView&&this.needEvents&&this.hasEvents},showRelated(){return this.isView&&this.needRelated},eventHeaders(){return[{name:"type",label:this.t("tableHeaders.type"),value:"eventType",sort:"eventType"},{name:"reason",label:this.t("tableHeaders.reason"),value:"reason",sort:"reason"},{name:"date",label:this.t("tableHeaders.updated"),value:"date",sort:"date:desc",formatter:"LiveDate",formatterOpts:{addSuffix:!0},width:125},{name:"message",label:this.t("tableHeaders.message"),value:"message",sort:"message"}]},events(){return this.allEvents.filter(e=>{var t,a;return(null===(t=e.involvedObject)||void 0===t?void 0:t.uid)===(null===(a=this.value)||void 0===a||null===(a=a.metadata)||void 0===a?void 0:a.uid)}).map(e=>({reason:`${e.reason||this.t("generic.unknown")}${e.count>1?` (${e.count})`:""}`.trim(),message:e.message||this.t("generic.unknown"),date:e.lastTimestamp||e.firstTimestamp||e.metadata.creationTimestamp,eventType:e.eventType}))},conditionsHaveIssues(){var e;return!!this.showConditions&&(null===(e=this.value.status)||void 0===e||null===(e=e.conditions)||void 0===e?void 0:e.filter(e=>!Object(w["d"])(e)).some(e=>e.error))}},methods:{tabChange(e){if(this.selectedTab=null===e||void 0===e?void 0:e.selectedName,!this.didLoadEvents&&"events"===this.selectedTab){const e=this.$store.getters["currentStore"](v["g"]);this.$store.dispatch(e+"/findAll",{type:v["g"]}).then(e=>{this.allEvents=e,this.didLoadEvents=!0})}},async setShowConditions(){var e,t;this.isView&&this.needConditions&&null!==(e=this.value)&&void 0!==e&&e.type&&null!==(t=this.schema)&&void 0!==t&&t.fetchResourceFields&&(await this.schema.fetchResourceFields(),this.showConditions=this.$store.getters[this.inStore+"/pathExistsInSchema"](this.value.type,"status.conditions"))}}},A=L,B=Object(h["a"])(A,s,i,!1,null,null,null);t["a"]=B.exports},c700:function(e,t,a){var s=a("298c");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);var i=a("0ed3").default;i("92473a04",s,!0,{sourceMap:!1,shadowMode:!1})},d1e9:function(e,t,a){var s=a("5eaa");t=s(!1),t.push([e.i,"button[data-v-02ddcc7c]{all:unset;height:0;position:relative;top:-35px;float:right;margin-right:7px;cursor:pointer}button .align-value[data-v-02ddcc7c]{padding-top:7px}.row.name-ns-description[data-v-02ddcc7c]{max-height:61px}.row .namespace-select[data-v-02ddcc7c] .labeled-select{min-width:40%}.row .namespace-select[data-v-02ddcc7c] .labeled-select .v-select.inline.vs--single{padding-bottom:2px}.row.flip-direction[data-v-02ddcc7c]{flex-direction:column}.row.flip-direction.name-ns-description[data-v-02ddcc7c]{max-height:none}.row.flip-direction>div>*[data-v-02ddcc7c]{margin-bottom:20px}",""]),e.exports=t},d1f0:function(e,t,a){"use strict";a("fdd0")},d363:function(e,t,a){var s=a("18ac");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);var i=a("0ed3").default;i("4e4e3925",s,!0,{sourceMap:!1,shadowMode:!1})},d6d6:function(e,t,a){"use strict";a("df6e")},d754:function(e,t,a){var s=a("81b8");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);var i=a("0ed3").default;i("10ee25a0",s,!0,{sourceMap:!1,shadowMode:!1})},deee:function(e,t,a){"use strict";a("c700")},df6e:function(e,t,a){var s=a("2bf5");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);var i=a("0ed3").default;i("7d186214",s,!0,{sourceMap:!1,shadowMode:!1})},dfb5:function(e,t,a){var s=a("e812");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);var i=a("0ed3").default;i("9850f242",s,!0,{sourceMap:!1,shadowMode:!1})},dff8:function(e,t,a){"use strict";var s=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"headers mb-10"},[t("div",{staticClass:"mr-10"},[t("label",[e._v(e._s(e.t("resourceQuota.headers.resourceType")))])]),t("div",{staticClass:"mr-20"},[t("label",[e._v(e._s(e.t("resourceQuota.headers.projectLimit")))])]),t("div",{staticClass:"mr-10"},[t("label",[e._v(e._s(e.t("resourceQuota.headers.namespaceDefaultLimit")))])])]),t("ArrayList",{attrs:{label:"Resources","add-label":e.t("resourceQuota.add.label"),"default-add-value":e.remainingTypes()[0]?e.remainingTypes()[0].value:"","add-allowed":e.remainingTypes().length>0,mode:e.mode},on:{remove:e.emitRemove},scopedSlots:e._u([{key:"columns",fn:function(a){return[t("Row",{attrs:{mode:e.mode,types:e.remainingTypes(e.typeValues[a.i]),type:e.typeValues[a.i]},on:{"type-change":function(t){return e.updateType(a.i,t)}},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})]}}]),model:{value:e.typeValues,callback:function(t){e.typeValues=t},expression:"typeValues"}})],1)},i=[],o=a("977f"),n=function(){var e=this,t=e._self._c;return e.typeOption?t("div",{staticClass:"row"},[t("Select",{staticClass:"mr-10",attrs:{mode:e.mode,value:e.type,options:e.types,"data-testid":"projectrow-type-input"},on:{input:function(t){return e.updateType(t)}}}),t("UnitInput",{staticClass:"mr-10",attrs:{value:e.resourceQuotaLimit[e.type],mode:e.mode,placeholder:e.typeOption.placeholder,increment:e.typeOption.increment,"input-exponent":e.typeOption.inputExponent,"base-unit":e.typeOption.baseUnit,"output-modifier":!0,"data-testid":"projectrow-project-quota-input"},on:{input:function(t){return e.updateQuotaLimit("resourceQuota",e.type,t)}}}),t("UnitInput",{attrs:{value:e.namespaceDefaultResourceQuotaLimit[e.type],mode:e.mode,placeholder:e.typeOption.placeholder,increment:e.typeOption.increment,"input-exponent":e.typeOption.inputExponent,"base-unit":e.typeOption.baseUnit,"output-modifier":!0,"data-testid":"projectrow-namespace-quota-input"},on:{input:function(t){return e.updateQuotaLimit("namespaceDefaultResourceQuota",e.type,t)}}})],1):e._e()},r=[],l=a("47ab"),c=a("4978"),d=a("2587"),u=a("8bbf"),p=a.n(u),h={components:{Select:l["a"],UnitInput:c["a"]},props:{mode:{type:String,required:!0},types:{type:Array,default:()=>[]},type:{type:String,default:""},value:{type:Object,default:()=>({})}},computed:{...d["d"],resourceQuotaLimit:{get(){var e;return(null===(e=this.value.spec.resourceQuota)||void 0===e?void 0:e.limit)||{}}},namespaceDefaultResourceQuotaLimit:{get(){var e;return(null===(e=this.value.spec.namespaceDefaultResourceQuota)||void 0===e?void 0:e.limit)||{}}}},methods:{updateType(e){var t,a;"undefined"!==typeof(null===(t=this.value.spec.resourceQuota)||void 0===t?void 0:t.limit[this.type])&&this.$delete(this.value.spec.resourceQuota.limit,this.type),"undefined"!==typeof(null===(a=this.value.spec.namespaceDefaultResourceQuota)||void 0===a?void 0:a.limit[this.type])&&this.$delete(this.value.spec.namespaceDefaultResourceQuota.limit,this.type),this.$emit("type-change",e)},updateQuotaLimit(e,t,a){this.value.spec[e]||p.a.set(this.value.spec,e,{limit:{}}),p.a.set(this.value.spec[e].limit,t,a)}}},m=h,f=(a("a485"),a("d802")),v=Object(f["a"])(m,n,r,!1,null,"3d1c0d97",null),b=v.exports,y={components:{ArrayList:o["a"],Row:b},props:{mode:{type:String,required:!0},value:{type:Object,default:()=>({})},types:{type:Array,default:()=>[]}},data(){return this.$set(this.value,"spec",this.value.spec||{}),this.$set(this.value.spec,"namespaceDefaultResourceQuota",this.value.spec.namespaceDefaultResourceQuota||{limit:{}}),this.$set(this.value.spec,"resourceQuota",this.value.spec.resourceQuota||{limit:{}}),{typeValues:Object.keys(this.value.spec.resourceQuota.limit)}},computed:{...d["b"]},methods:{updateType(e,t){this.$set(this.typeValues,e,t)},remainingTypes(e){return this.mappedTypes.filter(t=>!this.typeValues.includes(t.value)||t.value===e)},emitRemove(e){var t;this.$emit("remove",null===(t=e.row)||void 0===t?void 0:t.value)}}},g=y,x=(a("91a6"),Object(f["a"])(g,s,i,!1,null,"741e3306",null));t["a"]=x.exports},e0a3:function(e,t,a){var s=a("5eaa");t=s(!1),t.push([e.i,".labels__header[data-v-ab6b702c]{display:flex;justify-content:space-between}",""]),e.exports=t},e26b:function(e,t,a){"use strict";var s=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{class:{"labeled-input":!0,focused:e.focused,[e.mode]:!0,disabled:e.isDisabled,[e.status]:e.status,suffix:e.hasSuffix,"has-tooltip":e.hasTooltip,"compact-input":e.isCompact,hideArrows:e.hideArrows}},[e._t("label",(function(){return[e.hasLabel?t("label",[e.labelKey?t("t",{attrs:{k:e.labelKey}}):e.label?[e._v(e._s(e.label))]:e._e(),e.requiredField?t("span",{staticClass:"required"},[e._v("*")]):e._e()],2):e._e()]})),e._t("prefix"),e._t("field",(function(){return["multiline"===e.type||"multiline-password"===e.type?t("TextAreaAutoGrow",e._b({ref:"value",class:{conceal:"multiline-password"===e.type},attrs:{maxlength:e._maxlength,disabled:e.isDisabled,value:e.value,placeholder:e._placeholder,autocapitalize:"off"},on:{input:e.onInput,focus:e.onFocus,blur:e.onBlur}},"TextAreaAutoGrow",e.$attrs,!1)):t("input",e._b({ref:"value",class:{"no-label":!e.hasLabel},attrs:{maxlength:e._maxlength,disabled:e.isDisabled,type:"cron"===e.type?"text":e.type,placeholder:e._placeholder,autocomplete:"off",autocapitalize:"off","data-lpignore":e.ignorePasswordManagers},domProps:{value:e.value},on:{input:e.onInput,focus:e.onFocus,blur:e.onBlur,change:e.onChange}},"input",e.$attrs,!1))]})),e._t("suffix"),e.hasTooltip&&!e.focused?t("LabeledTooltip",{attrs:{hover:e.hoverTooltip,value:e.tooltipValue,status:e.status}}):e._e(),e.validationMessage?t("LabeledTooltip",{attrs:{hover:e.hoverTooltip,value:e.validationMessage}}):e._e(),e.cronHint||e.subLabel?t("div",{staticClass:"sub-label"},[e.cronHint?t("div",[e._v(" "+e._s(e.cronHint)+" ")]):e._e(),e.subLabel?t("div",{directives:[{name:"clean-html",rawName:"v-clean-html",value:e.subLabel,expression:"subLabel"}]}):e._e()]):e._e()],2)},i=[],o=a("8bbf"),n=a("c230"),r=a("e1bc"),l=a("2cb5"),c=a("2105"),d=a.n(c),u=a("1a5f"),p=a("9ec3"),h=a("da25");const m={tooltipKey:{type:String,default:null},placeholder:{type:[String,Number],default:""},placeholderKey:{type:String,default:null},label:{type:String,default:null},labelKey:{type:String,default:null},value:{type:[String,Number,Object],default:""},mode:{type:String,default:h["n"]},rules:{default:()=>[],type:Array,validator:e=>e.every(e=>["function"].includes(typeof e))},required:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},f=(e,t)=>{const a=Object(o["ref"])(e.mode===h["u"]||!!(""+e.value)),s=Object(o["ref"])(!1),i=Object(o["ref"])(null),n=Object(o["computed"])(()=>{var t;return e.required||(null===(t=e.rules)||void 0===t?void 0:t.some(e=>"required"===(null===e||void 0===e?void 0:e.name)))}),r=Object(o["computed"])(()=>e.mode===h["u"]),l=Object(o["computed"])(()=>e.disabled||r.value),c=Object(o["computed"])(()=>{const t=e.rules.find(e=>"required"===(null===e||void 0===e?void 0:e.name)),a=[],o=e.value;if(t&&i.value&&!s.value){const e=t(o);if(e)return e}for(const s of e.rules){const e=s(o);e&&"required"!==s.name&&a.push(e)}return a.length>0&&(i.value||s.value)?a.join(", "):void 0}),d=()=>{a.value=!0,s.value=!0},u=()=>{s.value=!1,e.value||(a.value=!1),i.value=Date.now()};return{raised:a,focused:s,blurred:i,onFocusLabeled:d,onBlurLabeled:u,isDisabled:l,validationMessage:c,requiredField:n}},v=e=>{const t=Object(o["computed"])(()=>null!==e.compact&&void 0!==e.compact?!!e.compact:!(e.label||e.labelKey));return{isCompact:t}};var b=Object(o["defineComponent"])({components:{LabeledTooltip:r["a"],TextAreaAutoGrow:n["a"]},inheritAttrs:!1,props:{...m,type:{type:String,default:"text"},status:{type:String,default:null},subLabel:{type:String,default:null},tooltip:{default:null,type:[String,Object]},hoverTooltip:{type:Boolean,default:!0},ignorePasswordManagers:{default:!1,type:Boolean},maxlength:{type:Number,default:null},hideArrows:{type:Boolean,default:!1},delay:{type:Number,default:0}},setup(e,{emit:t}){const{focused:a,onFocusLabeled:s,onBlurLabeled:i,isDisabled:o,validationMessage:n,requiredField:r}=f(e,t),{isCompact:l}=v(e);return{focused:a,onFocusLabeled:s,onBlurLabeled:i,isDisabled:o,validationMessage:n,requiredField:r,isCompact:l}},data(){return{updated:!1,validationErrors:""}},computed:{hasLabel(){return!this.isCompact&&(!!this.label||!!this.labelKey||!!this.$slots.label)},hasTooltip(){return!!this.tooltip||!!this.tooltipKey},tooltipValue(){if(this.hasTooltip)return this.tooltipKey?this.t(this.tooltipKey):this.tooltip},hasSuffix(){return!!this.$slots.suffix},cronHint(){if("cron"===this.type&&this.value){if("string"===typeof this.value&&!Object(u["isValidCron"])(this.value))return this.t("generic.invalidCron");try{const e=d.a.toString(this.value);return e}catch(e){return this.t("generic.invalidCron")}}},_placeholder(){return this.placeholder?this.placeholder.toString():this.placeholderKey?this.t(this.placeholderKey):""},_maxlength(){if("text"===this.type&&this.maxlength)return this.maxlength}},created(){this.onInput=this.delay?Object(p["debounce"])(this.delayInput,this.delay):this.delayInput},methods:{focus(){const e=this.$refs.value;e&&e.focus()},select(){const e=this.$refs.value;e&&e.select()},onChange(e){this.$emit("change",e)},delayInput(e){var t;const a="string"===typeof e?e:null===(t=null===e||void 0===e?void 0:e.target)||void 0===t?void 0:t.value;this.$emit("input",a)},onFocus(){this.onFocusLabeled()},onBlur(e){this.$emit("blur",e),this.onBlurLabeled()},escapeHtml:l["e"]}}),y=b,g=(a("b625"),a("e339"),a("d802")),x=Object(g["a"])(y,s,i,!1,null,"29adcfe2",null);t["a"]=x.exports},e339:function(e,t,a){"use strict";a("b622")},e626:function(e,t,a){var s=a("5eaa");t=s(!1),t.push([e.i,".modal-overlay{position:absolute;top:0;left:0;width:100vw;height:100vh;background-color:var(--overlay-bg);display:flex;justify-content:center;align-items:center;z-index:20}.modal-overlay .modal-container{background-color:var(--modal-bg);border-radius:var(--border-radius);max-height:95vh;overflow:auto;border:2px solid var(--modal-border)}.modal-fade-enter-active,.modal-fade-leave-active{transition:opacity .2s}.modal-fade-enter,.modal-fade-leave-to{opacity:0}",""]),e.exports=t},e795:function(e,t,a){var s=a("5eaa");t=s(!1),t.push([e.i,".validation-message{padding:5px;position:absolute;bottom:-35px}",""]),e.exports=t},e812:function(e,t,a){var s=a("5eaa");t=s(!1),t.push([e.i,".addon.with-tooltip[data-v-202c3d90]{position:relative;right:30px}",""]),e.exports=t},ebab:function(e,t,a){"use strict";var s=a("e24b"),i=a("760b");t["a"]={data(){return{fvFormRuleSets:[],fvReportedValidationPaths:[]}},methods:{fvGetPathRules(e){var t;return(null===(t=this.fvRulesets.find(t=>t.path===e))||void 0===t?void 0:t.rules)||[]},fvGetAndReportPathRules(e){const t=this.fvGetPathRules(e);return t.length>0&&!this.fvReportedValidationPaths.includes(e)&&(this.fvReportedValidationPaths=[...this.fvReportedValidationPaths,e]),t},fvGetPathValues(e){const t=this.fvRulesets.find(t=>t.path===e);return t?Object(s["i"])((null===t||void 0===t?void 0:t.rootObject)||this.value,null===t||void 0===t?void 0:t.path):[]},fvGetValues(e,t,a){return a.length>1&&"object"===typeof e&&!Array.isArray(e)&&null!==e?{...e,idx:t}:e},fvGetPathErrors(e=[]){const t=e.reduce((e,t)=>{const a=[],s=this.fvGetPathRules(t),i=this.fvGetPathValues(t).map(this.fvGetValues);return s.forEach(e=>{i.forEach(t=>{a.push(e(t))})}),[...e,...a].filter(Boolean)},[]);return t}},computed:{fvExtraRules(){return{}},fvRulesets(){var e;const t=()=>{};return[...this.fvFormRuleSets.map(e=>{const a={...Object(i["a"])(this.$store.getters["i18n/t"],{displayKey:null!==e&&void 0!==e&&e.translationKey?this.$store.getters["i18n/t"](e.translationKey):"Value"}),...this.fvExtraRules};return{...e,rules:e.rules.map(e=>a[e]||t),formValidationRule:!0}}),...((null===this||void 0===this||null===(e=this.value)||void 0===e?void 0:e.modelValidationRules)||[]).map(e=>({...e,formValidationRule:!1}))]},fvUnreportedValidationErrors(){const e=this.fvRulesets.filter(e=>!!e.formValidationRule&&!this.fvReportedValidationPaths.includes(e.path)).map(e=>e.path),t=this.fvGetPathErrors(e),a=this.value.customValidationErrors?this.value.customValidationErrors(this.value,this.fvReportedValidationPaths):[];return[...t,...a,...this.errors||[]]},fvValidationErrors(){const e=this.fvRulesets.filter(e=>!!e.formValidationRule).map(e=>e.path),t=this.fvGetPathErrors(e),a=this.value.customValidationErrors?this.value.customValidationErrors(this.value):[];return[...t,...a]},fvFormIsValid(){return 0===this.fvValidationErrors.length}}}},f286:function(e,t,a){var s=a("5eaa");t=s(!1),t.push([e.i,".role[data-v-5cab024f]{display:flex;align-items:center;flex-direction:row}",""]),e.exports=t},fa51:function(e,t,a){"use strict";a.d(t,"a",(function(){return g}));var s=function(){var e=this,t=e._self._c;return t("MembershipEditor",e._g({ref:"editor",attrs:{"add-member-dialog-name":"AddProjectMemberDialog","modal-sticky":!0,"default-binding-handler":e.defaultBindingHandler,type:e.NORMAN.PROJECT_ROLE_TEMPLATE_BINDING,mode:e.mode,"parent-key":"projectId","parent-id":e.parentId}},e.$listeners))},i=[],o=a("907c"),n=a("da25"),r=function(){var e=this,t=e._self._c;return e.$fetchState.pending?t("Loading"):t("ArrayList",{attrs:{mode:e.mode,"show-header":!0},scopedSlots:e._u([{key:"column-headers",fn:function(){return[t("div",{staticClass:"box mb-0"},[t("div",{staticClass:"column-headers row"},[t("div",{staticClass:"col span-6"},[t("label",{staticClass:"text-label"},[e._v(e._s(e.t("membershipEditor.user")))])]),t("div",{staticClass:"col span-6"},[t("label",{staticClass:"text-label"},[e._v(e._s(e.t("membershipEditor.role")))])])])])]},proxy:!0},{key:"columns",fn:function({row:a}){return[t("div",{staticClass:"columns row"},[t("div",{staticClass:"col span-6"},[t("Principal",{key:a.value.principalId,attrs:{value:a.value.principalId}})],1),t("div",{staticClass:"col span-6 role"},[e._v(" "+e._s(a.value.roleDisplay)+" ")])])]}},{key:"add",fn:function(){return[t("button",{staticClass:"btn role-primary mt-10",attrs:{type:"button"},on:{click:e.addMember}},[e._v(" "+e._s(e.t("generic.add"))+" ")])]},proxy:!0},{key:"remove-button",fn:function({remove:a,i:s}){return[e.isCreate&&0===s||e.isView?t("span"):t("button",{staticClass:"btn role-link",attrs:{type:"button",disabled:e.isView},on:{click:a}},[e._v(" "+e._s(e.t("generic.remove"))+" ")])]}}]),model:{value:e.bindings,callback:function(t){e.bindings=t},expression:"bindings"}})},l=[],c=a("977f"),d=a("15ca"),u=a("e24b");function p(e){return(null===e||void 0===e?void 0:e.replace(":","/"))||e}function h(e,t=!1){return(!!e.getters["management/schemaFor"](o["n"].PROJECT_ROLE_TEMPLATE_BINDING)||!t)&&!!e.getters["management/schemaFor"](o["n"].ROLE_TEMPLATE)&&!!e.getters["rancher/schemaFor"](o["t"].PRINCIPAL)}var m={components:{ArrayList:c["a"],Loading:d["a"]},props:{addMemberDialogName:{type:String,required:!0},parentKey:{type:String,required:!0},parentId:{type:String,default:null},mode:{type:String,required:!0},type:{type:String,required:!0},defaultBindingHandler:{type:Function,default:null},modalSticky:{type:Boolean,default:!1}},async fetch(){const e={type:this.type,opt:{force:!0}};this.type===o["t"].PROJECT_ROLE_TEMPLATE_BINDING&&this.parentId&&Object.assign(e,{opt:{filter:{projectId:this.parentId.split("/").join(":")}}});const t=[this.schema?this.$store.dispatch("rancher/findAll",e):[],this.$store.dispatch("rancher/findAll",{type:o["t"].PRINCIPAL}),this.$store.dispatch("management/findAll",{type:o["n"].ROLE_TEMPLATE}),this.$store.dispatch("management/findAll",{type:o["n"].USER})],[a]=await Promise.all(t),s=a.filter(e=>p(Object(u["h"])(e,this.parentKey))===p(this.parentId));if(this.$set(this,"lastSavedBindings",[...s]),this.mode===n["l"]&&0===s.length&&this.defaultBindingHandler){const e=await this.defaultBindingHandler();e.isDefaultBinding=!0,s.push(e)}this.$set(this,"bindings",s)},data(){return{schema:this.$store.getters["rancher/schemaFor"](this.type),bindings:[],lastSavedBindings:[]}},computed:{newBindings(){return this.bindings.filter(e=>!e.id&&!this.lastSavedBindings.includes(e)&&!e.isDefaultBinding)},removedBindings(){return this.lastSavedBindings.filter(e=>!this.bindings.includes(e))},membershipUpdate(){const e=this.newBindings,t=this.removedBindings;return{newBindings:this.newBindings,removedBindings:this.removedBindings,save:a=>{const s=e.map(e=>(Object(u["m"])(e,this.parentKey,a),e.save())),i=t.map(e=>e.remove());return Promise.all([...s,...i])}}},isCreate(){return this.mode===n["l"]},isView(){return this.mode===n["u"]}},watch:{membershipUpdate:{deep:!0,handler(){this.$emit("membership-update",this.membershipUpdate)}}},methods:{addMember(){this.$store.dispatch("cluster/promptModal",{component:this.addMemberDialogName,componentProps:{onAdd:this.onAddMember},modalSticky:this.modalSticky})},onAddMember(e){this.$set(this,"bindings",[...this.bindings,...e])}}},f=m,v=(a("b0d9"),a("d802")),b=Object(v["a"])(f,r,l,!1,null,"5cab024f",null),y=b.exports;function g(e){return h(e,!0)}var x={components:{MembershipEditor:y},props:{parentId:{type:String,default:null},mode:{type:String,required:!0}},data(){return{NORMAN:o["t"],bindings:[],lastSavedBindings:[]}},computed:{isCreate(){return this.mode===n["l"]},isView(){return this.mode===n["u"]}},methods:{defaultBindingHandler(){return this.$store.dispatch("management/create",{type:o["t"].PROJECT_ROLE_TEMPLATE_BINDING,roleTemplateId:"project-owner",userPrincipalId:this.$store.getters["auth/principalId"]})}}},w=x,_=Object(v["a"])(w,s,i,!1,null,null,null);t["b"]=_.exports},fcd0:function(e,t,a){"use strict";a("d754")},fd5f:function(e,t,a){"use strict";var s=function(){var e=this,t=e._self._c;return t("section",{staticClass:"cru"},[e._t("noticeBanner"),e.description?t("p",{staticClass:"description"},[e._v(" "+e._s(e.description)+" ")]):e._e(),t(e.isView?"div":"form",{tag:"component",staticClass:"create-resource-container cru__form",attrs:{"data-testid":"cru-form"},on:{submit:function(e){e.preventDefault()},keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onPressEnter(t)}}},[e.hasErrors?t("div",{staticClass:"cru__errors",attrs:{id:"cru-errors"}},e._l(e.errors,(function(a,s){return t("Banner",{key:s,attrs:{color:"error","data-testid":"error-banner"+s,label:e.stringify(e.mappedErrors[a].message),icon:e.mappedErrors[a].icon,closable:!0},on:{close:function(t){return e.closeError(s)}}})})),1):e._e(),e.showSubtypeSelection?t("div",{staticClass:"subtypes-container cru__content"},[e._t("subtypes",(function(){return e._l(e.subtypes,(function(a){return t("div",{key:a.id,staticClass:"subtype-banner",class:{selected:a.id===e._selectedSubtype},attrs:{"data-testid":"subtype-banner-item-"+a.id},on:{click:function(t){return e.selectType(a.id,t)}}},[e._t("subtype-content",(function(){return[t("div",{staticClass:"subtype-container"},[t("div",{staticClass:"subtype-logo"},[a.bannerImage?t("img",{attrs:{src:a.bannerImage,alt:(e.resource.type?e.resource.type+": ":"")+(a.label||"")}}):t("div",{staticClass:"round-image"},[a.bannerAbbrv?t("div",{staticClass:"banner-abbrv"},[e.$store.getters["i18n/exists"](a.bannerAbbrv)?t("span",[e._v(e._s(e.t(a.bannerAbbrv)))]):t("span",{style:{fontSize:e.abbrSizes[a.bannerAbbrv.length]}},[e._v(e._s(a.bannerAbbrv))])]):t("div",[e._v(" "+e._s(a.id.slice(0,1).toUpperCase())+" ")])])]),t("div",{staticClass:"subtype-body"},[t("div",{staticClass:"title",class:{"with-description":!!a.description}},[t("h5",[e.$store.getters["i18n/exists"](a.label)?t("span",{directives:[{name:"clean-html",rawName:"v-clean-html",value:e.t(a.label),expression:"t(subtype.label)"}]}):t("span",[e._v(e._s(a.label))])]),a.docLink?t("a",{staticClass:"flex-right",attrs:{href:a.docLink,target:"_blank",rel:"noopener nofollow"}},[e._v(e._s(e.t("generic.moreInfo"))+" "),t("i",{staticClass:"icon icon-external-link"})]):e._e()]),a.description?t("hr"):e._e(),a.description?t("div",{staticClass:"description"},[e.$store.getters["i18n/exists"](a.description)?t("span",{directives:[{name:"clean-html",rawName:"v-clean-html",value:e.t(a.description,{},!0),expression:"t(subtype.description, {}, true)"}]}):t("span",[e._v(e._s(a.description))])]):e._e()])])]}))],2)}))}),{subtypes:e.subtypes})],2):e._e(),e.showAsForm&&e.steps.length?[e._selectedSubtype||!e.subtypes.length?t("div",{staticClass:"resource-container cru__content cru__content-wizard"},[e.resource?t("Wizard",{ref:"Wizard",staticClass:"wizard",attrs:{"header-mode":e.mode,steps:e.steps,errors:e.errors,"finish-mode":e.finishMode},on:{error:t=>e.errors=t},scopedSlots:e._u([{key:"stepContainer",fn:function({activeStep:a}){return[e._l(e.steps,(function(s){return[s.name===a.name||s.hidden?t("div",{key:s.name,staticClass:"step-container__step",class:{hide:s.name!==a.name&&s.hidden}},[e._t(s.name,null,{step:s})],2):e._e()]}))]}},{key:"controlsContainer",fn:function({showPrevious:a,next:s,back:i,activeStep:o,canNext:n,activeStepIndex:r,visibleSteps:l}){return[[t("CruResourceFooter",{staticClass:"cru__footer",attrs:{mode:e.mode,"is-form":e.showAsForm,"show-cancel":e.showCancel},on:{"cancel-confirmed":e.confirmCancel},scopedSlots:e._u([e._l(e.$scopedSlots,(function(t,a){return{key:a,fn:function(t){return[e._t(a,null,null,t)]}}}))],null,!0)},[t("div",{staticClass:"controls-steps"},[e.showYaml?t("button",{staticClass:"btn role-secondary",attrs:{type:"button"},on:{click:e.showPreviewYaml}},[t("t",{attrs:{k:"cruResource.previewYaml"}})],1):e._e(),a?[t("button",{staticClass:"btn role-secondary",attrs:{type:"button"},on:{click:function(e){return i()}}},[t("t",{attrs:{k:"wizard.previous"}})],1)]:e._e(),r===l.length-1?[e.showSubtypeSelection||e.isView?e._e():t("AsyncButton",{ref:"save",attrs:{disabled:!o.ready,mode:e.finishButtonMode||e.mode},on:{click:function(t){return e.$emit("finish",t)}}})]:[t("button",{staticClass:"btn role-primary",attrs:{disabled:!n,type:"button"},on:{click:function(e){return s()}}},[t("t",{attrs:{k:"wizard.next"}})],1)]],2)])]]}}],null,!0)}):e._e()],1):e._e()]:e.showAsForm?[e._selectedSubtype||!e.subtypes.length?t("div",{staticClass:"resource-container cru__content",style:[e.minHeight?{"min-height":e.minHeight}:{}]},[e._t("default")],2):e._e(),e._t("form-footer",(function(){return[t("CruResourceFooter",{staticClass:"cru__footer",attrs:{mode:e.mode,"is-form":e.showAsForm,"show-cancel":e.showCancel,"component-testid":e.componentTestid},on:{"cancel-confirmed":e.confirmCancel},scopedSlots:e._u([e._l(e.$scopedSlots,(function(t,a){return{key:a,fn:function(t){return[e._t(a,null,null,t)]}}})),{key:"default",fn:function(){return[e.isView?e._e():t("div",[e.showYaml?t("button",{staticClass:"btn role-secondary",attrs:{"data-testid":e.componentTestid+"-yaml",type:"button"},on:{click:e.showPreviewYaml}},[t("t",{attrs:{k:"cruResource.previewYaml"}})],1):e._e(),e.showSubtypeSelection?e._e():t("AsyncButton",{ref:"save",attrs:{disabled:!e.canSave,mode:e.finishButtonMode||e.mode,"data-testid":e.componentTestid+"-save"},on:{click:function(t){return e.clickSave(t)}}})],1)]},proxy:!0}],null,!0)})]}))]:e.showYaml&&!e.showAsForm?t("section",{staticClass:"cru-resource-yaml-container resource-container cru__content"},[t("ResourceYaml",{ref:"resourceyaml",staticClass:"resource-container cru__content",attrs:{value:e.resource,mode:e.mode,"initial-yaml-for-diff":e.initialYaml,yaml:e.resourceYaml,"offer-preview":e.isEdit,"done-route":e.doneRoute,"done-override":e.resource.doneOverride,errors:e.errors,"apply-hooks":e.applyHooks},on:{error:t=>e.$emit("error",t)},scopedSlots:e._u([{key:"yamlFooter",fn:function({yamlSave:a,showPreview:s,yamlPreview:i,yamlUnpreview:o,canDiff:n}){return[e._t("cru-yaml-footer",(function(){return[t("CruResourceFooter",{staticClass:"cru__footer",attrs:{"done-route":e.doneRoute,mode:e.mode,"is-form":e.showAsForm},on:{"cancel-confirmed":e.confirmCancel},scopedSlots:e._u([{key:"default",fn:function({checkCancel:r}){return[t("div",{staticClass:"controls-middle"},[s?t("button",{staticClass:"btn role-secondary",attrs:{type:"button","data-testid":e.componentTestid+"-yaml-yaml"},on:{click:o}},[t("t",{attrs:{k:"resourceYaml.buttons.continue"}})],1):e._e(),!s&&e.isEdit?t("button",{staticClass:"btn role-secondary",attrs:{"data-testid":e.componentTestid+"-yaml-yaml-preview",disabled:!n,type:"button"},on:{click:i}},[t("t",{attrs:{k:"resourceYaml.buttons.diff"}})],1):e._e()]),e._selectedSubtype||!e.subtypes.length?t("div",{staticClass:"controls-right"},[t("button",{staticClass:"btn role-secondary",attrs:{"data-testid":e.componentTestid+"-yaml-cancel",type:"button"},on:{click:function(e){return r(!1)}}},[t("t",{attrs:{k:"cruResource.backToForm"}})],1),e.showSubtypeSelection?e._e():t("AsyncButton",{attrs:{"data-testid":e.componentTestid+"-yaml-save",disabled:!e.canSave,"action-label":e.isEdit?e.t("generic.save"):e.t("generic.create")},on:{click:e=>a(e)}})],1):e._e()]}}],null,!0)})]}))]}}],null,!0)})],1):e._e()],2)],2)},i=[],o=a("330a"),n=a.n(o),r=a("c5e6"),l=a("e24b"),c=a("907c"),d=a("ac07"),u=a("6418"),p=a("d709"),h=a("9ce4"),m=a("3e9d"),f=function(){var e=this,t=e._self._c;return t("div",{staticClass:"cru-resource-footer"},[e._t("footer-prefix"),e._t("cancel",(function(){return[!e.isView&&e.showCancel?t("button",{staticClass:"btn role-secondary",attrs:{id:"cru-cancel","data-testid":e.componentTestid+"-cancel",type:"button"},on:{click:function(t){e.confirmCancelRequired?e.checkCancel(!0):e.$emit("cancel-confirmed",!0)}}},[t("t",{attrs:{k:"generic.cancel"}})],1):e._e()]})),e._t("default",(function(){return[e.isView?e._e():t("AsyncButton",{attrs:{"data-testid":e.componentTestid+"-create",mode:e.finishButtonMode||e.mode},on:{click:function(t){return e.$emit("finish",t)}}})]}),{checkCancel:e.checkCancel}),t("ResourceCancelModal",{ref:"cancelModal",attrs:{"is-cancel-modal":e.isCancelModal,"is-form":e.isForm},on:{"confirm-cancel":function(t){return e.confirmCancel(t)}}})],2)},v=[],b=function(){var e=this,t=e._self._c;return e.showModal?t("app-modal",{attrs:{customClass:"confirm-modal",name:"cancel-modal",width:440,height:"auto"},on:{close:e.cancelCancel}},[t("div",{staticClass:"header"},[t("h4",{staticClass:"text-default-text"},[e.isCancelModal?t("t",{attrs:{k:"generic.cancel"}}):t("span",[e._v(e._s(e.t("cruResource.backToForm")))])],1)]),t("div",{staticClass:"body"},[e.isCancelModal?t("p",[t("t",{attrs:{k:"cruResource.cancelBody"}})],1):t("p",[t("t",{attrs:{k:"cruResource.backBody"}})],1)]),t("div",{staticClass:"footer"},[t("button",{staticClass:"btn role-secondary",attrs:{type:"button"},on:{click:e.cancelCancel}},[e._v(" "+e._s(e.isForm?e.t("cruResource.reviewForm"):e.t("cruResource.reviewYaml"))+" ")]),t("button",{staticClass:"btn role-primary",attrs:{type:"button"},on:{click:e.confirmCancel}},[e.isCancelModal?t("span",[e._v(e._s(e.t("cruResource.confirmCancel")))]):t("span",[e._v(e._s(e.t("cruResource.confirmBack")))])])])]):e._e()},y=[],g=a("6fbb"),x={components:{AppModal:g["a"]},props:{isCancelModal:{type:Boolean,default:!1},isForm:{type:Boolean,default:!1}},data(){return{showModal:!1}},watch:{},methods:{show(){this.showModal=!0},cancelCancel(){this.showModal=!1,this.$emit("cancel-cancel")},confirmCancel(){this.showModal=!1,this.$emit("confirm-cancel",this.isCancelModal)}}},w=x,_=(a("b9f4"),a("d802")),C=Object(_["a"])(w,b,y,!1,null,"0181c352",null),k=C.exports,S=a("da25"),O={components:{AsyncButton:p["b"],ResourceCancelModal:k},props:{mode:{type:String,default:"create"},isForm:{type:Boolean,default:!0},finishButtonMode:{type:String,default:null},confirmCancelRequired:{type:Boolean,default:!1},confirmBackRequired:{type:Boolean,default:!0},showCancel:{type:Boolean,default:!0},componentTestid:{type:String,default:"form-footer"}},data(){return{isCancelModal:!1}},computed:{...Object(h["b"])({t:"i18n/t"}),isView(){return this.mode===S["u"]}},methods:{checkCancel(e){this.isCancelModal=!!e,this.$refs.cancelModal.show()},confirmCancel(e){this.$emit("cancel-confirmed",e)}}},j=O,T=(a("35d2"),Object(_["a"])(j,f,v,!1,null,null,null)),N=T.exports,$=a("842c"),M=function(){var e=this,t=e._self._c;return t("div",{ref:"wizard",staticClass:"outer-container"},[e.stepsLoaded?e._e():t("Loading",{attrs:{mode:"relative"}}),t("div",{staticClass:"outer-container",class:{hide:!e.stepsLoaded}},[t("div",{staticClass:"header"},[t("div",{staticClass:"title"},[e.showBanner?t("div",{staticClass:"top choice-banner"},[e.bannerImage||e.bannerTitle?e._t("bannerTitle",(function(){return[t("div",{directives:[{name:"show",rawName:"v-show",value:e.initialTitle||e.activeStepIndex>0,expression:"initialTitle || activeStepIndex > 0"}],staticClass:"title"},[e._t("bannerTitleImage",(function(){return[e.bannerImage?t("div",{staticClass:"round-image"},[t("LazyImage",{staticClass:"logo",attrs:{src:e.bannerImage}})],1):e._e()]})),t("div",{staticClass:"subtitle"},[e.bannerTitle?t("h2",[e._v(" "+e._s(e.bannerTitle)+" ")]):e._e(),e.bannerTitleSubtext?t("span",{staticClass:"subtext"},[e._v(e._s(e.bannerTitleSubtext))]):e._e()])],2)]})):e._e(),e.activeStep&&e.showSteps?t("div",{staticClass:"subtitle"},[t("h2",[e._v(e._s(e.headerMode?e.t("wizard."+e.headerMode):e.t(`asyncButton.${e.finishMode}.action`))+": "+e._s(e.t("wizard.step",{number:e.activeStepIndex+1})))]),e._t("bannerSubtext",(function(){return[null!==e.activeStep.subtext?t("span",{staticClass:"subtext"},[e._v(e._s(e.activeStep.subtext||e.activeStep.label))]):e._e()]}))],2):e._e()],2):e._e(),t("div",{staticClass:"step-sequence"},[e.showSteps?t("ul",{staticClass:"steps",attrs:{tabindex:"0"},on:{keyup:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"right",39,t.key,["Right","ArrowRight"])||"button"in t&&2!==t.button?null:(t.stopPropagation(),e.selectNext(1))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"left",37,t.key,["Left","ArrowLeft"])||"button"in t&&0!==t.button?null:(t.stopPropagation(),e.selectNext(-1))}]}},[e._l(e.visibleSteps,(function(a,s){return[t("li",{key:a.name+"li",class:{step:!0,active:a.name===e.activeStep.name,disabled:!e.isAvailable(a)},attrs:{id:a.name,role:"presentation"}},[t("span",{staticClass:"controls",attrs:{"aria-controls":"step"+s+1,"aria-selected":a.name===e.activeStep.name,role:"tab"},on:{click:function(t){return t.preventDefault(),e.goToStep(s+1,!0)}}},[t("span",{staticClass:"icon icon-lg",class:{"icon-dot":a.name===e.activeStep.name,"icon-dot-open":a.name!==e.activeStep.name}}),t("span",[e._v(" "+e._s(a.label)+" ")])])]),s!==e.visibleSteps.length-1?t("div",{key:a.name,staticClass:"divider"}):e._e()]}))],2):e._e()])])]),e._t("stepContainer",(function(){return[e._l(e.steps,(function(a){return[a.name===e.activeStep.name||a.hidden?t("div",{key:a.name,staticClass:"step-container__step",class:{hide:a.name!==e.activeStep.name&&a.hidden}},[e._t(a.name,null,{step:a})],2):e._e()]}))]}),{activeStep:e.activeStep}),e._t("controlsContainer",(function(){return[e._l(e.errorStrings,(function(a,s){return t("div",{key:s},[t("Banner",{staticClass:"footer-error",attrs:{color:"error",label:a,closable:!0},on:{close:function(t){return e.errors.splice(s,1)}}})],1)})),t("div",{staticClass:"controls-row pt-20",attrs:{id:"wizard-footer-controls"}},[e._t("cancel",(function(){return[t("button",{staticClass:"btn role-secondary",attrs:{type:"button"},on:{click:e.cancel}},[t("t",{attrs:{k:"generic.cancel"}})],1)]}),{cancel:e.cancel}),t("div",{staticClass:"controls-steps"},[e.showPrevious?e._t("back",(function(){return[t("button",{staticClass:"btn role-secondary",attrs:{disabled:!e.canPrevious||!e.editFirstStep&&1===e.activeStepIndex,type:"button"},on:{click:function(t){return e.back()}}},[t("t",{attrs:{k:"wizard.previous"}})],1)]}),{back:e.back}):e._e(),e.activeStepIndex===e.visibleSteps.length-1?e._t("finish",(function(){return[t("AsyncButton",{attrs:{disabled:!e.activeStep.ready,mode:e.finishMode},on:{click:e.finish}})]}),{finish:e.finish}):e._t("next",(function(){return[t("button",{class:e.nextButtonStyle,attrs:{disabled:!e.canNext,type:"button"},on:{click:function(t){return e.next()}}},[t("t",{attrs:{k:e.nextButtonLabel}})],1)]}),{next:e.next})],2)],2)]}),{showPrevious:e.showPrevious,next:e.next,back:e.back,canNext:e.canNext,activeStepIndex:e.activeStepIndex,visibleSteps:e.visibleSteps,errorStrings:e.errorStrings,finish:e.finish,cancel:e.cancel,activeStep:e.activeStep})],2)],1)},L=[],A=a("15ca"),B={name:"Wizard",components:{AsyncButton:p["b"],Banner:u["a"],Loading:A["a"]},props:{steps:{type:Array,required:!0},initStepIndex:{type:Number,default:0},editFirstStep:{type:Boolean,default:!1},showBanner:{type:Boolean,default:!0},initialTitle:{type:Boolean,default:!0},bannerTitle:{type:String,default:null},bannerImage:{type:String,default:null},bannerTitleSubtext:{type:String,default:null},headerMode:{type:String,default:null},finishMode:{type:String,default:"finish"},errors:{type:Array,default:null}},data(){return{activeStep:null}},computed:{errorStrings(){return(this.errors||[]).map(e=>Object(m["b"])(e))},activeStepIndex(){return this.visibleSteps.findIndex(e=>e.name===this.activeStep.name)},showPrevious(){if(0===this.activeStepIndex)return!1;for(let e=0;e<this.activeStepIndex;e++){const t=this.visibleSteps[e];if(!t)break;if(!t.hidden)return!0}return!1},canPrevious(){var e;return!(null!==(e=this.activeStep)&&void 0!==e&&null!==(e=e.previousButton)&&void 0!==e&&e.disable)&&(this.activeStepIndex>1||this.editFirstStep)},canNext(){return this.activeStepIndex<this.visibleSteps.length-1&&this.activeStep.ready},readySteps(){return this.visibleSteps.filter(e=>e.ready)},showSteps(){return!1!==this.activeStep.showSteps&&this.visibleSteps.length>1},stepsLoaded(){return!this.steps.some(e=>!0===e.loading)},visibleSteps(){return this.steps.filter(e=>!e.hidden)},nextButtonStyle(){var e;return(null===(e=this.activeStep.nextButton)||void 0===e?void 0:e.style)||"btn role-primary"},nextButtonLabel(){var e;return(null===(e=this.activeStep.nextButton)||void 0===e?void 0:e.labelKey)||"wizard.next"}},watch:{stepsLoaded(e,t){!t&&e&&(this.activeStep=this.visibleSteps[this.initStepIndex],this.goToStep(this.activeStepIndex+1))},errors(){this.$nextTick(()=>{this.$refs.wizard.scrollTop=this.$refs.wizard.scrollHeight})}},created(){this.activeStep=this.visibleSteps[this.initStepIndex],this.goToStep(this.activeStepIndex+1)},methods:{goToStep(e,t){if(e<1)return;if(!this.editFirstStep&&1===e&&t)return;const a=this.visibleSteps[e-1];a&&(this.isAvailable(a)||1===e)&&(this.activeStep=a,this.$emit("next",{step:a}))},cancel(){this.$emit("cancel")},finish(e){this.$emit("finish",e)},next(){this.goToStep(this.activeStepIndex+2)},back(){this.goToStep(this.activeStepIndex)},isAvailable(e){if(!e)return!1;const t=this.visibleSteps.findIndex(t=>t.name===e.name);if(0===t&&!this.editFirstStep)return!1;for(let a=0;a<t;a++)if(!1===this.visibleSteps[a].ready)return!1;return!0}}},R=B,P=(a("fcd0"),Object(_["a"])(R,M,L,!1,null,"5c421562",null)),E=P.exports;const q="show-preview-yaml";var I={name:"CruResource",components:{AsyncButton:p["b"],Banner:u["a"],CruResourceFooter:N,ResourceYaml:d["a"],Wizard:E},props:{doneRoute:{type:[String,Object],default:null},cancelEvent:{type:Boolean,default:!1},showCancel:{type:Boolean,default:!0},mode:{type:String,required:!0},resource:{type:Object,required:!0},subtypes:{type:Array,default:()=>[]},selectedSubtype:{type:String,default:null},validationPassed:{type:Boolean,default:!0},errors:{type:Array,default:()=>[]},errorsMap:{type:Object,default:null},canYaml:{type:Boolean,default:!0},generateYaml:{type:Function,default:null},finishButtonMode:{type:String,default:null},preventEnterSubmit:{type:Boolean,default:!1},applyHooks:{type:Function,default:null},steps:{type:Array,default:()=>[]},finishMode:{type:String,default:"finish"},minHeight:{type:String,default:""},namespaceKey:{type:String,default:"metadata.namespace"},componentTestid:{type:String,default:"form"},description:{type:String,default:""},yamlModifiers:{type:Object,default:void 0}},data(e){const t=this.$store.getters["currentStore"](this.resource),a=this.$store.getters[t+"/schemaFor"](this.resource.type);return{isCancelModal:!1,showAsForm:this.$route.query[S["a"]]!==S["v"],resourceYaml:null,initialYaml:null,initialResource:Object(l["e"])(this.resource),abbrSizes:{3:"24px",4:"18px",5:"16px",6:"14px"},schema:a}},computed:{canSave(){const{validationPassed:e,showAsForm:t,steps:a}=this;return t&&null!==a&&void 0!==a&&a.length?e&&this.steps.every(e=>e.ready):!this.showAsForm||this.validationPassed},canEditYaml(){var e;return!(null!==(e=this.schema)&&void 0!==e&&null!==(e=e.resourceMethods)&&void 0!==e&&e.includes("blocked-PUT"))},showYaml(){return this.canYaml&&(this._selectedSubtype||!this.subtypes.length)&&this.canEditYaml&&this.mode!==S["u"]},isView(){return this.mode===S["u"]},isEdit(){return this.mode===S["n"]},_selectedSubtype(){return this.selectedSubtype?this.selectedSubtype:this.$route.query[S["h"]]},showSubtypeSelection(){return!n()(this.subtypes)&&!this._selectedSubtype},...Object(h["b"])({t:"i18n/t"}),...Object(h["c"])("cru-resource",["createNamespace"]),...Object(h["a"])("cru-resource",["setCreateNamespace"]),hasErrors(){var e;return(null===(e=this.errors)||void 0===e?void 0:e.length)&&Array.isArray(this.errors)},mappedErrors(){return this.errors?this.errorsMap||this.errors.reduce((e,t)=>({...e,[t]:{message:t,icon:null}}),{}):{}}},created(){this._selectedSubtype&&this.$emit("select-type",this._selectedSubtype)},mounted(){this.$store.dispatch("cru-resource/setCreateNamespace",!1)},beforeDestroy(){this.$store.dispatch("cru-resource/setCreateNamespace",!1)},methods:{stringify:m["b"],confirmCancel(e=!0){e?this.emitOrRoute():this.showAsForm||(this.resourceYaml=null,this.showAsForm=!0,this.$router.applyQuery({[S["a"]]:S["t"]}))},closeError(e){const t=this.errors.filter((t,a)=>a!==e);this.$emit("error",t,this.errors[e])},emitOrRoute(){if(this.cancelEvent)this.$emit("cancel");else{const{resource:e=this.resource.type}=this.$route.params,t=this.resource.doneOverride,a={name:this.doneRoute,params:{resource:e}};this.$router.replace(t||a)}},async createResourceYaml(e,t=this.resource){var a;if(await(null===(a=this.schema)||void 0===a?void 0:a.fetchResourceFields()),"function"===typeof this.generateYaml)return this.generateYaml.apply(this,t);{const a=this.$store.getters["currentStore"](t),s=this.$store.getters[a+"/all"](c["A"]),i=Object(l["e"])(t),o=Object(r["c"])(s,t.type,i,e);return o}},async showPreviewYaml(){var e;if(await(null===(e=this.schema)||void 0===e?void 0:e.fetchResourceFields()),this.applyHooks)try{await this.applyHooks($["b"],q)}catch(a){return void console.warn("Unable to show yaml: ",a)}const t=await this.createResourceYaml(this.yamlModifiers);this.resourceYaml=t,this.showAsForm=!1,this.$router.applyQuery({[S["a"]]:S["v"]})},selectType(e,t){var a;"A"!==(null===t||void 0===t||null===(a=t.srcElement)||void 0===a?void 0:a.tagName)&&(this.$router.applyQuery({[S["h"]]:e}),this.$emit("select-type",e))},async clickSave(e){try{await this.createNamespaceIfNeeded(),this.$emit("finish",e)}catch(t){this.$emit("error",Object(m["a"])(t.message)),e(!1)}},save(){this.$refs.save.clicked()},async createNamespaceIfNeeded(){const e=this.$store.getters["currentStore"](this.resource),t=Object(l["h"])(this.resource,this.namespaceKey);let a=!1;if(this.createNamespace){try{a=!!await this.$store.dispatch(e+"/find",{type:c["q"],id:t})}catch{}if(this.createNamespace&&!a)try{const a=await this.$store.dispatch(e+"/createNamespace",{name:t},{root:!0});a.applyDefaults(),await a.save()}catch(s){throw this.$emit("error",Object(m["a"])(s)),new Error("Could not create the new namespace. "+s.message)}}},onPressEnter(e){this.preventEnterSubmit&&e.preventDefault()}},watch:{async showAsForm(e){e||this.initialYaml||(this.initialYaml=await this.createResourceYaml(void 0,this.initialResource))}}},V=I,K=(a("0547"),Object(_["a"])(V,s,i,!1,null,"5d7d1298",null));t["a"]=K.exports},fdd0:function(e,t,a){var s=a("bb89");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);var i=a("0ed3").default;i("de18583e",s,!0,{sourceMap:!1,shadowMode:!1})}}]);
//# sourceMappingURL=nowcom-0.3.2.umd.min.vendors~edit.js.map